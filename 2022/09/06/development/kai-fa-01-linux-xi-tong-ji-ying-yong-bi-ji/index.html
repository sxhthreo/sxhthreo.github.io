<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
    <meta name="keywords" content="Linux系统及应用笔记, ShiQuLiZhi BLOG">
    <meta name="description" content="Record the study life of an ordinary college student">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>Linux系统及应用笔记 | ShiQuLiZhi BLOG</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 6.2.0"><!-- hexo-inject:begin --><!-- hexo-inject:end --></head>


    
        <style>
    body{
       background-image: url(https://cdn.jsdelivr.net/gh/Tokisaki-Galaxy/res/site/medias/background.jpg);
       background-repeat:no-repeat;
       background-size:cover;
       background-attachment:fixed;
    }
</style>

            

                <body>

                    <!-- hexo-inject:begin --><!-- hexo-inject:end --><header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">ShiQuLiZhi BLOG</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/goodpapers" class="waves-effect waves-light">
      
      <i class="fas fa-coffee" style="zoom: 0.6;"></i>
      
      <span>收藏</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">ShiQuLiZhi BLOG</div>
        <div class="logo-desc">
            
            Record the study life of an ordinary college student
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/goodpapers" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-coffee"></i>
			
			收藏
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
    </ul>
</div>


        </div>

        
    </nav>

</header>

                        
<script src="/libs/cryptojs/crypto-js.min.js"></script>
<script>
    (function() {
        let pwd = '';
        if (pwd && pwd.length > 0) {
            if (pwd !== CryptoJS.SHA256(prompt('请输入访问本文章的密码')).toString(CryptoJS.enc.Hex)) {
                alert('密码错误，将返回主页！');
                location.href = '/';
            }
        }
    })();
</script>




<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/18.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">Linux系统及应用笔记</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/%E5%90%8E%E7%AB%AF/">
                                    <span class="chip bg-color">
                                        后端
                                    </span>
                                </a>
                                
                                <a href="/tags/Linux%E7%B3%BB%E7%BB%9F/">
                                    <span class="chip bg-color">
                                        Linux系统
                                    </span>
                                </a>
                                
                                <a href="/tags/%E7%90%86%E8%AE%BA%E7%9F%A5%E8%AF%86/">
                                    <span class="chip bg-color">
                                        理论知识
                                    </span>
                                </a>
                                
                        </div>
                        
                </div>
                <div class="col s5 right-align">
                    
                        <div class="post-cate">
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                                <a href="/categories/Java%E4%B8%8E%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/" class="post-category">
                                    Java与开发基础
                                </a>
                                
                        </div>
                        
                </div>
            </div>

            <div class="post-info">
                
                    <div class="post-date info-break-policy">
                        <i class="far fa-calendar-minus fa-fw"></i>
                        发布日期:&nbsp;&nbsp;
                            2022-09-06
                    </div>
                    

                        
                            <div class="post-date info-break-policy">
                                <i class="far fa-calendar-check fa-fw"></i>
                                更新日期:&nbsp;&nbsp;
                                    2023-01-30
                            </div>
                            

                                
                                    <div class="info-break-policy">
                                        <i class="far fa-file-word fa-fw"></i>
                                        文章字数:&nbsp;&nbsp;
                                            12.4k
                                    </div>
                                    

                                        
                                            <div class="info-break-policy">
                                                <i class="far fa-clock fa-fw"></i>
                                                阅读时长:&nbsp;&nbsp;
                                                    47
                                                        分
                                            </div>
                                            

                                                
            </div>
        </div>
        <hr class="clearfix">

        
            <!-- 是否加载使用自带的 prismjs. -->
            <link rel="stylesheet" href="/libs/prism/prism.css">
            

                
                    <!-- 代码块折行 -->
                    <style type="text/css">
                        code[class*="language-"],
                        pre[class*="language-"] {
                            white-space: pre-wrap !important;
                        }
                    </style>
                    

                        <div class="card-content article-card-content">
                            <div id="articleContent">
                                <h1 id="原理篇"><a href="#原理篇" class="headerlink" title="原理篇"></a>原理篇</h1><h1 id="一、Linux进程管理"><a href="#一、Linux进程管理" class="headerlink" title="一、Linux进程管理"></a>一、Linux进程管理</h1><h2 id="1-1-进程控制块与进程的创建"><a href="#1-1-进程控制块与进程的创建" class="headerlink" title="1.1 进程控制块与进程的创建"></a>1.1 进程控制块与进程的创建</h2><p><strong>OS的单体结构与Linux微内核结构</strong>：</p>
<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20220924231451765.png" alt="OS的单体结构与Linux微内核结构示意图"></p>
<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20221113212142849.png" alt="操作系统相关概念"></p>
<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20221113221120989.png" alt="image-20221113221120989"></p>
<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20221113220529412.png" alt="image-20221113220529412"></p>
<p>Linux中的进程实体：PCB——进程存在和运行的唯一标志。</p>
<p>Linux中对应结构叫做<code>task_struct</code>：</p>
<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">struct</span> <span class="token class-name">task_struct</span> <span class="token punctuation">&#123;</span>
	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>进程控制块</strong>的信息有：</p>
<ul>
<li>状态信息－描述进程动态的变化</li>
<li>链接信息－描述进程的父／子关系</li>
<li>各种标识符－用简单数字对进程进行标识</li>
<li>进程间通信信息－描述多个进程在同一任务上协作工作</li>
<li>时间和定时器信息－描述进程在生存周期内使用CPU时间的统计、计费等信息</li>
<li>调度信息－描述进程优先级、调度策略等信息</li>
<li>文件系统信息－对进程使用文件情况进行记录</li>
<li>虚拟内存信息－描述每个进程拥有的地址空间</li>
<li>处理器环境信息－描述进程的执行环境(处理器的寄存器及堆栈等) </li>
</ul>
<p><strong>进程相关的系统调用</strong>：</p>
<ul>
<li>Fork()－父亲克隆一个儿子。执行fork()之后，兵分两路，两个进程并发执行。</li>
<li>Exec()－新进程脱胎换骨，离家独立，开始了独立工作的职业生涯。</li>
<li>Wait()－等待不仅仅是阻塞自己，还准备对僵死的子进程进行善后处理。</li>
<li>Exit()－终止进程，把进程的状态置为“僵死”，并把其所有的子进程都托付给init进程，最后调用schedule()函数，选择一个新的进程运行。 </li>
</ul>
<h2 id="1-2-进程的组织方式"><a href="#1-2-进程的组织方式" class="headerlink" title="1.2 进程的组织方式"></a>1.2 进程的组织方式</h2><h3 id="1-2-1-进程链表"><a href="#1-2-1-进程链表" class="headerlink" title="1.2.1 进程链表"></a>1.2.1 进程链表</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">struct</span> <span class="token class-name">task_struct</span> <span class="token punctuation">&#123;</span>
	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
	<span class="token keyword">struct</span> <span class="token class-name">list_head</span> tasks<span class="token punctuation">;</span>
	<span class="token keyword">char</span> comm<span class="token punctuation">[</span>TASK_COMM_LEN<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">/*可执行程序的名字
    ...
&#125;;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20220924232451261.png" alt="进程链表"></p>
<h3 id="1-2-2-哈希表"><a href="#1-2-2-哈希表" class="headerlink" title="1.2.2 哈希表"></a>1.2.2 哈希表</h3><p><code>#define pid_hashfn(x)  ((((x) &gt;&gt; 8) ^ (x)) &amp; (PIDHASH_SZ - 1))</code></p>
<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20220924233239139.png" alt="哈希表"></p>
<h3 id="1-2-3-可运行队列"><a href="#1-2-3-可运行队列" class="headerlink" title="1.2.3 可运行队列"></a>1.2.3 可运行队列</h3><p>把可运行状态的进程组成一个双向循环链表，也叫<strong>可运行队列</strong>(runqueue)，其中<strong>init_task起链表头的作用</strong>。</p>
<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">struct</span> <span class="token class-name">task_struct</span><span class="token punctuation">&#123;</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token keyword">struct</span> <span class="token class-name">list_head</span> run_list<span class="token punctuation">;</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>在调度程序运行过程中，允许队列中加入新出现的可运行态进程，新出现的可运行态进程插入到队尾</strong> </p>
<h3 id="1-2-4-等待队列"><a href="#1-2-4-等待队列" class="headerlink" title="1.2.4 等待队列"></a>1.2.4 等待队列</h3><p>等待队列表示一组睡眠的进程，<code>func</code>域指向唤醒函数，用于把等待队列中的进程唤醒。</p>
<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">struct</span> <span class="token class-name">__wait_queue</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">unsigned</span> <span class="token keyword">int</span> flags<span class="token punctuation">;</span>
    <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">WQ_FLAG_EXCLUSIVE</span>	<span class="token expression"><span class="token number">0x01</span></span></span>
	<span class="token keyword">void</span> <span class="token operator">*</span><span class="token keyword">private</span><span class="token punctuation">;</span>
	wait_queue_func_t func<span class="token punctuation">;</span>
	<span class="token keyword">struct</span> <span class="token class-name">list_head</span> task_list<span class="token punctuation">;</span><span class="token comment">/*最主要的域*/</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">_</span> _wait_queue wait_queue_t<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="1-3-进程调度算法"><a href="#1-3-进程调度算法" class="headerlink" title="1.3 进程调度算法"></a>1.3 进程调度算法</h2><ul>
<li>时间片轮转调度算法 <ul>
<li>系统使每个进程依次地按时间片轮流地执行 </li>
</ul>
</li>
<li>优先权调度算法 <ul>
<li>非抢占式优先权算法 </li>
<li>抢占式优先权调度算法 </li>
</ul>
</li>
<li>多级反馈队列调度 <ul>
<li>优先权高的进程先运行给定的时间片，相同优先权的进程轮流运行给定的时间片 </li>
</ul>
</li>
<li>实时调度 <ul>
<li>一般采用抢占式调度方式</li>
</ul>
</li>
</ul>
<p><strong>与调度相关的系统调用</strong>：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">系统调用</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">nice()</td>
<td style="text-align:center">改变一个普通进程的优先级</td>
</tr>
<tr>
<td style="text-align:center">getpriority()</td>
<td style="text-align:center">取得一组普通进程的最大优先级</td>
</tr>
<tr>
<td style="text-align:center">setpriority()</td>
<td style="text-align:center">设置一组普通进程的优先级</td>
</tr>
<tr>
<td style="text-align:center">sched_getscheduler()</td>
<td style="text-align:center">取得一个进程的调度策略</td>
</tr>
<tr>
<td style="text-align:center">sched_setscheduler()</td>
<td style="text-align:center">设置一个进程的调度策略和优先级</td>
</tr>
<tr>
<td style="text-align:center">sched_getparam()</td>
<td style="text-align:center">取得一个进程的调度优先级</td>
</tr>
<tr>
<td style="text-align:center">sched_setparam()</td>
<td style="text-align:center">设置一个进程的优先级</td>
</tr>
<tr>
<td style="text-align:center">sched_yield()</td>
<td style="text-align:center">不阻塞的情况下自愿放弃处理机</td>
</tr>
<tr>
<td style="text-align:center">sched_get_ priority_min()</td>
<td style="text-align:center">取得某种策略的最小优先级</td>
</tr>
<tr>
<td style="text-align:center">sched_get_ priority_max()</td>
<td style="text-align:center">取得某种策略的最大优先级</td>
</tr>
</tbody>
</table>
</div>
<h2 id="1-4-Linux内核线程"><a href="#1-4-Linux内核线程" class="headerlink" title="1.4 Linux内核线程"></a>1.4 Linux内核线程</h2><p>Linux把线程和进程一视同仁，不过线程本身拥有的资源少，共享进程的资源，如地址空间。</p>
<p><strong>几个特殊身份的内核线程</strong>：</p>
<ul>
<li>没事闲逛的0号进程－从无到有诞生的第一个线程，执行cpu_idle()函数（省电又少热）。</li>
<li>既是内核线程也是1号用户进程的init。Init进程诞生后就不愿意死亡了，它创建和监控操作系统外层所有进程的活动。</li>
</ul>
<p>还有另外四个线程：</p>
<ul>
<li><code>kflushd</code> (即<code>bdflush</code>)线程：刷新“脏”缓冲区中的内容到磁盘以归还内存。</li>
<li><code>Kupdate</code>线程：刷新旧的“脏”缓冲区中的内容到磁盘以减少文件系统不一致的风险。 </li>
<li><code>Kpiod</code>线程：把属于共享内存映射的页面交换</li>
<li><code>Kswapd</code>线程：执行内存回收功能。 </li>
</ul>
<h1 id="工程篇"><a href="#工程篇" class="headerlink" title="工程篇"></a>工程篇</h1><h1 id="一、Linux概述"><a href="#一、Linux概述" class="headerlink" title="一、Linux概述"></a>一、Linux概述</h1><h2 id="1-1-网络连接的三种模式"><a href="#1-1-网络连接的三种模式" class="headerlink" title="1.1 网络连接的三种模式"></a>1.1 网络连接的三种模式</h2><ul>
<li><p><strong>桥接模式</strong>：虚拟系统可以和外部系统相互通讯，但容易造成<code>IP</code>冲突；</p>
</li>
<li><p><strong><code>NAT</code>模式</strong>：网络地址转换模式，虚拟系统可以和外部系统相互通讯，不造成<code>IP</code>冲突(生成虚拟网卡)；</p>
</li>
<li><p><strong>主机模式</strong>：独立的系统，不和外部发生联系。</p>
</li>
</ul>
<h2 id="1-2-虚拟机快照"><a href="#1-2-虚拟机快照" class="headerlink" title="1.2 虚拟机快照"></a>1.2 虚拟机快照</h2><p>回到原先的某一个状态。</p>
<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20220227174202839.png" alt="image-20220227174202839"></p>
<h2 id="1-3-Linux目录结构"><a href="#1-3-Linux目录结构" class="headerlink" title="1.3 Linux目录结构"></a>1.3 Linux目录结构</h2><p>采用<strong>级层式树状目录</strong>结构，在此结构中的最上层是<strong>根目录</strong>“/”，然后再此目录下再创建其他的目录。</p>
<p>在Linux世界里，一切皆文件。</p>
<p><strong>/bin</strong>    是Binary的缩写，此目录存放最常使用的命令</p>
<p><strong>/sbin</strong>    s是Super User的意思，存放的是系统管理员使用的系统管理程序</p>
<p><strong>/home</strong>    存放普通用户的主目录</p>
<p><strong>/root</strong>    系统管理员（超级权限者）的用户主目录</p>
<p><strong>/lib</strong>    系统开机所需要最基本的动态连接共享库（类似于Windows中的DLL文件）</p>
<p><strong>/etc</strong>    系统管理所需配置文件和子目录，如安装mysql数据库（my.conf）</p>
<p><strong>/usr</strong>    用户的应用程序和文件均放在本目录下（类似于Windows下的program files目录）</p>
<p><strong>/boot</strong>    存放的<strong>启动Linux时使用的一些核心文件</strong>，包括一些连接文件以及镜像文件</p>
<p><strong>/proc</strong>    [不能动]是一个虚拟的目录，是系统内存的映射，访问这个目录来获取系统信息</p>
<p><strong>/srv</strong>    [不能动]service的缩写，该目录存放一些服务启动之后需要提取的数据</p>
<p><strong>/sys</strong>    [不能动]安装2.6内核中新出现的一个文件系统</p>
<p>/tmp    存放临时文件</p>
<p>/dev    类似于windows的设备管理器，把所有的硬件用文件的形式存储</p>
<p>/media    linux系统会自动识别一些设备（如U盘、光驱等），识别后会把识别的设备挂载到这个目录下</p>
<p><strong>/mnt</strong>    让用户临时挂载到别的文件系统，可以将外部的存储<strong>挂载</strong>（mount）到/mnt/上，然后进入该目录可查看里面的内容</p>
<p>/opt    给主机额外安装软件所存放的目录（如安装oracle数据库可放到该目录下，默认为空）</p>
<p>/usr/local    作用同上，一般是通过编译源码方式安装的程序</p>
<p>/var    习惯将被修改的目录放在该目录下</p>
<p>/selinux    安全子系统，它能控制程序只能访问特定文件</p>
<h2 id="1-4-远程登陆"><a href="#1-4-远程登陆" class="headerlink" title="1.4 远程登陆"></a>1.4 远程登陆</h2><p>查看IP地址：<code>ifconfig</code></p>
<p>利用<code>Xshell7</code>、<code>XFtp7</code>，实现Linux公网与用户的远程连接与传输文件。</p>
<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20220906231036185.png" alt="image-20220906231036185"></p>
<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20220227190152939.png" alt="image-20220227190152939"></p>
<h2 id="1-5-Vim"><a href="#1-5-Vim" class="headerlink" title="1.5 Vim"></a>1.5 Vim</h2><p>以<code>vim</code>打开一个档案就直接进入一般模式；按下<code>i,I,o,O</code>等任何一个字符会进入编辑模式。</p>
<p>编辑完需要进入<strong>命令行模式</strong>。输入<code>esc</code>，再输入“<code>:</code>”可进入命令行模式。</p>
<p><code>:wq</code>表示<code>write+quit</code>（退出），<code>:q!</code>表示强制退出（不保存）。</p>
<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20220227194054576.png" alt="image-20220227194054576" style="zoom: 67%;" /></p>
<p>快捷键使用：</p>
<p>拷贝当前行<code>yy</code>，拷贝当前行向下的5行 <code>5yy</code>，粘贴（输入<code>p</code>）,删除用<code>dd</code>，删除当前行向下的5行用<code>5dd</code>。</p>
<p>查找：进入命令行模式（/），然后编辑需要查找的单词，即<code>/hello</code>。</p>
<p>设置文件的行号/取消文件的行号（命令行下<code>set nu</code>和<code>set nonu</code>）</p>
<p>定位：在一般模式下，到文件最末行用[<code>G</code>]（大写），最首行用[<code>gg</code>]（小写）</p>
<p>撤销输入：<code>u</code></p>
<p>一般登录使用普通用户登录，登录后再用“su - 用户名”命令来切换成系统管理员身份。</p>
<p>logout可以注销用户，但只有在允许级别3下才有效（不能在图形界面使用该指令）</p>
<h2 id="1-6-GDB调试"><a href="#1-6-GDB调试" class="headerlink" title="1.6 GDB调试"></a>1.6 GDB调试</h2><p><code>GDB</code>是基于命令行的程序调试工具，调试可执行文件：<code>gdb file</code>。(如<code>gdb ./pwn1</code>)</p>
<p><code>run(r)</code>：运行程序，当遇到断点时，程序会在断点处停止程序，等待用户输入下一步的命令。</p>
<p><code>continue(c)</code>：继续执行，到下一个断点处（或运行结束）</p>
<p><code>next(n)</code>：单步跟踪程序，不会进入到函数体内。</p>
<p><code>step(s)</code>：单步调用如果有函数调用，则进入函数。</p>
<p><code>disas main</code>反汇编</p>
<p><code>b *addr</code>对地址<code>addr</code>处设置一个断点</p>
<p>查看：</p>
<ul>
<li><p><code>x/nfu &lt;addr&gt;</code> 查找内存</p>
</li>
<li><p><code>n</code>表示要显示的内存单元的个数</p>
</li>
<li><code>f</code>表示显示方式：可取<code>x</code>(十六进制)、<code>d</code>(十进制)、<code>u</code>(十进制无符号整型)等</li>
<li><code>u</code>表示一个地址单元的长度，<code>b</code>表示单字节，<code>h</code>表示双字节，<code>w</code>表示四字节</li>
<li>info functions 查看函数</li>
</ul>
<h1 id="二、Linux相关指令"><a href="#二、Linux相关指令" class="headerlink" title="二、Linux相关指令"></a>二、Linux相关指令</h1><h2 id="2-1-关机和重启"><a href="#2-1-关机和重启" class="headerlink" title="2.1 关机和重启"></a>2.1 关机和重启</h2><ul>
<li><code>shutdown -h now</code>：立刻关机</li>
<li><code>shutdown -h 1</code>：一分钟后关机</li>
<li><code>shutdown -r now</code>：重启计算机</li>
<li><code>halt</code>：关机</li>
<li><code>reboot</code>：重启计算机</li>
<li><code>sync</code>：把内存的数据同步到磁盘</li>
</ul>
<blockquote>
<p>注：</p>
<p>[1]不管是重启系统还是关闭系统，首先要运行<code>sync</code>命令，把内存中的数据写到磁盘中；</p>
<p>[2]使用<code>su - root</code>切换成<code>root</code>权限；</p>
<p>[3]在提示符下输入<code>logout</code>即可注销用户，该命令在图形运行级别无效，在<strong>运行级别3</strong>下有效。    </p>
</blockquote>
<h2 id="2-2-用户管理"><a href="#2-2-用户管理" class="headerlink" title="2.2 用户管理"></a>2.2 用户管理</h2><h3 id="2-2-1-用户管理操作"><a href="#2-2-1-用户管理操作" class="headerlink" title="2.2.1 用户管理操作"></a>2.2.1 用户管理操作</h3><p><strong>添加用户</strong>：<code>useadd</code> 用户名，默认该用户的家目录在<code>/home/...</code>中。也可以通过<code>useradd -d 指定目录 新的目录名</code>，给新创建的用户指定家目录。</p>
<p><strong>删除用户</strong>：<code>userdel 用户名</code>(切换成<code>root</code>用户才可以，<strong>保留家目录</strong>)；<code>userdel -r 用户名</code>(<strong>同时删除家目录</strong>)。一般情况下需保留家目录。</p>
<p><strong>设置密码</strong>：<code>passwd 用户名</code></p>
<blockquote>
<p>注：</p>
<p><code>pwd</code>显示当前用户所在的目录。</p>
</blockquote>
<p><strong>查询用户信息</strong>：<code>id 用户名</code></p>
<p><strong>切换用户</strong>：<code>su - 切换用户名</code></p>
<blockquote>
<p>注：</p>
<p>权限高的用户切换到权限低的用户，不需要输入密码，反之需要；当需要返回到原来的用户时，使用<code>exit/logout</code>指令。</p>
</blockquote>
<p><strong>查看当前用户/登录用户</strong>：<code>whoami / who am I</code>，显示第一次登录用户的信息</p>
<h3 id="2-2-2-用户组"><a href="#2-2-2-用户组" class="headerlink" title="2.2.2 用户组"></a>2.2.2 用户组</h3><p>类似于角色，系统可以对<strong>有共性的多个用户</strong>进行统一的管理。</p>
<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20220906234653165.png" alt="image-20220906234653165"></p>
<ul>
<li><strong>新增组</strong>：<code>groupadd</code>  组名</li>
<li><p><strong>删除组</strong>：<code>groupdel</code>  组名</p>
</li>
<li><p><strong>增加用户到组</strong>：要<strong>使增加用户时直接加入组</strong>，可用[<code>useradd -g 用户组 用户名</code>]，如增加一个用户<code>zwj</code>，直接将他指定到<code>wudang</code>，可以执行如下指令：</p>
</li>
</ul>
<pre class="line-numbers language-none"><code class="language-none">groupadd wudang
useradd -g wudang zwj<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<blockquote>
<p>注：</p>
<p>若不指定组，会将用户直接放在与其同名的组中。</p>
</blockquote>
<ul>
<li><strong>修改用户的组</strong>：<code>usermod -g 用户组 用户名</code></li>
</ul>
<h3 id="2-2-3-用户和组相关文件"><a href="#2-2-3-用户和组相关文件" class="headerlink" title="2.2.3 用户和组相关文件"></a>2.2.3 用户和组相关文件</h3><ul>
<li><strong>/etc/passwd文件</strong>：</li>
</ul>
<p>用户(<code>user</code>)的配置文件，记录用户的各种信息</p>
<p>每行的含义：用户名:口令:用户标识号:组标识号:注释性描述:主目录:登录<strong>Shell</strong>(相当于翻译<code>cd-&gt;linux</code>内核)</p>
<ul>
<li><strong>/etc/shadow文件</strong>：</li>
</ul>
<p>口令的配置文件，每行的含义为：<code>登录名:加密口令:最后一次修改时间:最小时间间隔:最大时间间隔:警告时间:不活动时间:失效时间:标志</code></p>
<ul>
<li><strong>/etc/group文件</strong>：</li>
</ul>
<p>组的配置文件，记录Linux包含的组的信息，每行的含义为：<code>组名:口令:组标识号:组内用户列表</code></p>
<h2 id="2-3-运行级别"><a href="#2-3-运行级别" class="headerlink" title="2.3 运行级别"></a>2.3 运行级别</h2><p>说明：</p>
<p>0：关机</p>
<p>1：单用户[找回丢失密码]</p>
<p>2：多用户状态没有网络服务</p>
<p><strong>3：多用户状态有网络服务</strong></p>
<p>4：系统未使用保留给用户</p>
<p><strong>5：图形界面</strong></p>
<p>6：系统重启</p>
<p>通过<code>init [0123456]</code>切换运行级别。</p>
<p>CentOS7后：</p>
<p><code>sysytemctl get-default</code>用于查找运行级别</p>
<p><code>systemctl set-default TARGET.target</code></p>
<h2 id="2-4-帮助指令"><a href="#2-4-帮助指令" class="headerlink" title="2.4 帮助指令"></a>2.4 帮助指令</h2><ul>
<li><p><code>man</code>获得帮助信息：如查看<code>ls</code>命令的帮助信息：<code>man ls</code></p>
</li>
<li><p><code>help</code>指令：获得<code>shell</code>内置命令的帮助信息</p>
</li>
</ul>
<blockquote>
<p>注：</p>
<p>在Linux下，隐藏文件是以<code>.</code>开头。</p>
</blockquote>
<h2 id="2-5-文件目录指令"><a href="#2-5-文件目录指令" class="headerlink" title="2.5 文件目录指令"></a>2.5 文件目录指令</h2><h3 id="2-5-1-文件目录基本指令"><a href="#2-5-1-文件目录基本指令" class="headerlink" title="2.5.1 文件目录基本指令"></a>2.5.1 文件目录基本指令</h3><ul>
<li><strong>pwd指令</strong></li>
</ul>
<p>显示当前工作目录的绝对路径。</p>
<ul>
<li><strong>ls指令</strong></li>
</ul>
<p><code>ls [选项] [目录或文件]</code></p>
<p>常用选项有：</p>
<ol>
<li><code>-a</code>：显示当前目录所有的文件和目录，包括隐藏的；</li>
<li><code>-l</code>：以<strong>列表</strong>的方式显示信息，以人适合看的方式显示<code>ls -lh</code>(<code>h</code>代表human)</li>
</ol>
<ul>
<li><strong>cd指令</strong></li>
</ul>
<p><code>cd [参数]</code>(切换到指定目录)</p>
<ol>
<li><code>cd ~</code>或<code>cd</code>：回到自己的家目录</li>
<li><code>cd ..</code>：回到当前目录的上一级目录</li>
</ol>
<blockquote>
<p>注：<strong>绝对路径与相对路径</strong></p>
<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20220907191616696.png" alt="image-20220907191616696"></p>
</blockquote>
<ul>
<li><strong>mkdir指令</strong></li>
</ul>
<p>用于创建目录：<code>mkdir [选项] 要创建的目录</code>，其中<code>-p</code>用于创建多级目录</p>
<p>如创建多级目录<code>/home/animal/tiger</code>，可执行<code>mkdir -p /home/animal/tiger</code></p>
<ul>
<li><strong>rmdir指令</strong></li>
</ul>
<p>用于删除空目录：<code>rmdir [选项] 要删除的空目录</code></p>
<p>若需要删除非空目录，需使用<code>rm -rf 要删除的目录</code>(谨慎)</p>
<ul>
<li><strong>touch指令</strong></li>
</ul>
<p>创建空文件，<code>touch 文件名称</code></p>
<ul>
<li><strong>cp指令</strong></li>
</ul>
<p><code>cp [选项] source dest</code>，其中<code>-r</code><strong>递归复制整个文件夹</strong></p>
<p>案例：</p>
<ol>
<li>将<code>/home/hello.txt</code>拷贝到<code>/home/bbb</code>目录下：<code>cp hello.text /home/bbb</code></li>
<li>递归复制整个文件夹：<code>cp -r /home/bbb /opt</code></li>
</ol>
<blockquote>
<p>注：</p>
<p>强制覆盖不提示的方法：<code>\cp ...</code>，如<code>\cp -r /home/bbb /opt</code></p>
</blockquote>
<ul>
<li><strong>rm指令</strong></li>
</ul>
<p>移除文件或目录：<code>rm [选项] 要删除的文件或目录</code></p>
<p>常用选项：</p>
<ul>
<li><code>-r</code>：递归删除整个文件夹</li>
<li><code>-f</code>：强制删除不提示</li>
</ul>
<p>递归删除整个文件夹：<code>rm -rf /home/bbb</code>，表示<strong>删除整个文件夹，不提示</strong></p>
<ul>
<li><strong>mv指令</strong></li>
</ul>
<p><code>mv</code>指令用于<strong>移动文件或重命名</strong>：</p>
<ol>
<li><code>mv oldNameFile newNameFile</code>(重命名)</li>
<li><code>mv /temp/movefile /targetFolder</code>(移动文件)</li>
</ol>
<blockquote>
<p>若执行<code>mv pig.txt /root/cow.txt</code>，表示移动文件并重命名。</p>
</blockquote>
<ul>
<li><strong>cat指令</strong></li>
</ul>
<p>查看文件内容：<code>cat [选项] 要查看的文件</code>，<code>-n</code>可以<strong>显示行号</strong></p>
<p><code>cat</code>命令只能浏览文件，而不能修改文件，但为了浏览方便，一般会带上<strong>管道命令</strong><code>| more</code>。</p>
<blockquote>
<p>注：</p>
<p><code>more</code>指令是一个基于<code>vi</code>编辑器的文本过滤器，它以全屏幕的方式<strong>按页显示</strong>文本文件的内容。<code>more</code>指令内置了若干快捷键(交互的指令)。</p>
<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20220907212029379.png" alt="more指令快捷键"></p>
</blockquote>
<ul>
<li><strong>less指令</strong></li>
</ul>
<p><code>less 要查看的文件</code></p>
<p><code>less</code>指令用于分屏查看文件内容，功能与<code>more</code>指令类似，但比<code>more</code>指令更加强大，支持各种显示终端。<code>less</code>指令在显示文件内容时，并不是一次将整个文件加载之后才显示，而是根据显示需要加载内容，对于显示大型文件具有较高的效率。</p>
<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20220907213819455.png" alt="less指令快捷键" style="zoom:80%;" /></p>
<ul>
<li><strong>echo指令</strong></li>
</ul>
<p><code>echo</code>输出内容到控制台：<code>echo [选项] [输出内容]</code></p>
<p>案例：使用<code>echo</code>指令输出环境变量，比如输出<code>$HOSTNAME</code>：<code>echo $HOSTNAME</code></p>
<ul>
<li><strong>head指令</strong></li>
</ul>
<p><code>head</code>用于显示文件的开头部分内容，默认情况下<code>head</code>指令显示文件的前 10 行内容。</p>
<ol>
<li><code>head 文件</code>(功能描述：查看文件头 10 行内容)</li>
<li><code>head -n 5 文件</code>(功能描述：查看文件头 5 行内容，5 可以是任意行数)</li>
</ol>
<ul>
<li><strong>tail指令</strong></li>
</ul>
<p><code>tail</code>用于输出文件中尾部的内容，默认情况下<code>tail</code>指令显示文件的前 10 行内容。</p>
<ol>
<li><code>tail 文件</code>(功能描述：查看文件尾 10 行内容)</li>
</ol>
<p>2) <code>tail -n 5 文件</code>(功能描述：查看文件尾 5 行内容，5 可以是任意行数)<br>3) <code>tail -f 文件</code>(功能描述：实时追踪该文档的所有更新)</p>
<h3 id="2-5-2-gt-指令和-gt-gt-指令"><a href="#2-5-2-gt-指令和-gt-gt-指令" class="headerlink" title="2.5.2 &gt; 指令和 &gt;&gt; 指令"></a>2.5.2 &gt; 指令和 &gt;&gt; 指令</h3><p><code>&gt;</code> 输出重定向，<code>&gt;&gt;</code> 追加</p>
<ol>
<li><code>ls -l &gt; 文件</code>(功能描述：列表的内容写入文件a.txt 中(覆盖写))</li>
</ol>
<p>2) <code>ls -al &gt;&gt; 文件</code>(功能描述：列表的内容追加到文件aa.txt 的末尾)<br>3) <code>cat 文件1 &gt; 文件2</code> (功能描述：将文件1 的内容覆盖到文件2)<br>4) <code>echo &quot;内容&quot;&gt;&gt; 文件</code>(<strong>追加</strong>)</p>
<p>案例1：将<code>/home</code>目录下的文件列表 写入到<code>/home/info.txt</code>中, 覆盖写入</p>
<p><code>ls -l /home &gt; /home/info.txt</code> [如果<code>info.txt</code>没有，则会创建]</p>
<p>案例2：将当前日历信息 追加到<code>/home/mycal</code>文件中</p>
<p>指令为：<code>cal &gt;&gt; /home/mycal</code></p>
<h3 id="2-5-3-ln-指令与history指令"><a href="#2-5-3-ln-指令与history指令" class="headerlink" title="2.5.3 ln 指令与history指令"></a>2.5.3 ln 指令与history指令</h3><ul>
<li><strong>ln指令</strong>：</li>
</ul>
<p><strong>软链接</strong>也称为符号链接，类似于 windows 里的快捷方式，主要存放了链接其他文件的路径。</p>
<p><code>ln -s [原文件或目录] [软链接名]</code>(功能描述：给原文件创建一个软链接)</p>
<p>案例1：在<code>/home</code>目录下创建一个软连接<code>myroot</code>，连接到<code>/root</code>目录</p>
<p><code>ln -s /root /home/myroot</code></p>
<p>案例2：删除软连接<code>myroot</code></p>
<p><code>rm /home/myroot</code></p>
<blockquote>
<p>注：</p>
<p>当我们使用<code>pwd</code>指令查看目录时，仍然看到的是软链接所在目录。</p>
</blockquote>
<ul>
<li><strong>history指令</strong>：</li>
</ul>
<p><strong>查看已经执行过历史命令</strong>，也可以执行历史指令。</p>
<p>案例1：显示所有的历史命令</p>
<p><code>history</code></p>
<p>案例2：显示最近使用过的 10 个指令</p>
<p><code>history 10</code></p>
<p>案例3：执行历史编号为 5 的指令</p>
<p><code>!5</code></p>
<h2 id="2-6-时间日期类"><a href="#2-6-时间日期类" class="headerlink" title="2.6 时间日期类"></a>2.6 时间日期类</h2><h3 id="2-6-1-date-指令"><a href="#2-6-1-date-指令" class="headerlink" title="2.6.1 date 指令"></a>2.6.1 date 指令</h3><ul>
<li><strong>显示当前日期</strong></li>
</ul>
<p>1) <code>date</code> (功能描述：显示当前时间)<br>2) <code>date +%Y</code> (功能描述：显示当前年份)<br>3) <code>date +%m</code> (功能描述：显示当前月份)<br>4) <code>date +%d</code> (功能描述：显示当前是哪一天)<br>5) <code>date &quot;+%Y-%m-%d %H:%M:%S&quot;</code> (功能描述：显示年月日时分秒)</p>
<ul>
<li><strong>设置日期</strong></li>
</ul>
<p><code>date -s 字符串时间</code></p>
<p>设置系统当前时间， 比如设置成<code>2020-11-03 20:02:10</code></p>
<p><code>date -s &quot;2020-11-03 20:02:10&quot;</code></p>
<h3 id="2-6-2-cal-指令"><a href="#2-6-2-cal-指令" class="headerlink" title="2.6.2 cal 指令"></a>2.6.2 cal 指令</h3><p>查看日历指令：<code>cal</code>指令。</p>
<p><code>cal [选项]</code> (功能描述：不加选项，显示本月日历)</p>
<p>案例1：显示当前日历 <code>cal</code></p>
<p>案例2：显示2020年日历 <code>cal 2020</code></p>
<h2 id="2-7-搜索查找类"><a href="#2-7-搜索查找类" class="headerlink" title="2.7 搜索查找类"></a>2.7 搜索查找类</h2><h3 id="2-7-1-find指令"><a href="#2-7-1-find指令" class="headerlink" title="2.7.1 find指令"></a>2.7.1 find指令</h3><p><code>find</code>指令将<strong>从指定目录向下递归地遍历其各个子目录</strong>，将满足条件的文件或者目录显示在终端。</p>
<p><code>find [搜索范围] [选项]</code></p>
<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20220907233131547.png" alt="image-20220907233131547"></p>
<p>案例1：按文件名：根据名称查找<code>/home</code>目录下的<code>hello.txt</code>文件</p>
<p><code>find /home -name hello.txt</code></p>
<p>案例2：按拥有者：查找<code>/opt</code>目录下，用户名称为<code>nobody</code>的文件</p>
<p><code>find /opt -user nobody</code></p>
<p>案例3：查找整个linux 系统下大于200M的文件(<strong>+n 大于 -n 小于 n 等于, 单位有k,M,G</strong>)</p>
<p><code>find / -size +200M</code></p>
<h3 id="2-7-2-locate指令"><a href="#2-7-2-locate指令" class="headerlink" title="2.7.2 locate指令"></a>2.7.2 locate指令</h3><p><code>locate</code>指令可以快速定位文件路径。<code>locate</code>指令利用事先建立的系统中所有文件名称及路径的<code>locate</code>数据库实现快速定位给定的文件。<code>locate</code>指令无需遍历整个文件系统，查询速度较快。为了保证查询结果的准确度，管理员必须定期更新<code>locate</code>时刻。</p>
<p>语法：<code>locate 搜索文件</code></p>
<p>由于<code>locate</code>指令基于数据库进行查询，所以第一次运行前，必须使用<code>updatedb</code>指令创建<code>locate</code>数据库。</p>
<blockquote>
<p>注：<code>which</code>指令</p>
<p>可以查看某个指令在哪个目录下，比如<code>ls</code>指令在哪个目录，可用<code>while ls</code>。</p>
</blockquote>
<h3 id="2-7-3-grep指令"><a href="#2-7-3-grep指令" class="headerlink" title="2.7.3 grep指令"></a>2.7.3 grep指令</h3><p><code>grep</code><strong>过滤查找</strong>；管道符“<code>|</code>”，表示将前一个命令的处理结果输出传递给后面的命令处理。</p>
<p><code>grep [选项] 查找内容源文件</code></p>
<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20220907234359395.png" alt="grep指令"></p>
<p>案例1：请在<code>hello.txt</code>文件中，查找”<code>yes</code>“ 所在行，并且显示行号</p>
<p>写法1：<code>cat /home/hello.txt | grep &quot;yes&quot;</code></p>
<p>写法2：<code>grep -n &quot;yes&quot; /home/hello.txt</code></p>
<h2 id="2-8-压缩和解压类"><a href="#2-8-压缩和解压类" class="headerlink" title="2.8 压缩和解压类"></a>2.8 压缩和解压类</h2><h3 id="2-8-1-gzip-gunzip-指令"><a href="#2-8-1-gzip-gunzip-指令" class="headerlink" title="2.8.1 gzip/gunzip 指令"></a>2.8.1 gzip/gunzip 指令</h3><p><code>gzip</code>用于压缩文件，<code>gunzip</code>用于解压</p>
<ul>
<li><p><code>gzip 文件</code> (功能描述：压缩文件，只能将文件压缩为<code>*.gz</code>文件)</p>
</li>
<li><p><code>gunzip 文件.gz</code> (功能描述：解压缩文件命令)</p>
</li>
</ul>
<h3 id="2-8-2-zip-unzip-指令"><a href="#2-8-2-zip-unzip-指令" class="headerlink" title="2.8.2 zip/unzip 指令"></a>2.8.2 zip/unzip 指令</h3><p><code>zip [选项] XXX.zip 将要压缩的内容</code>(功能描述：压缩文件和目录的命令)</p>
<p><code>unzip [选项] XXX.zip</code> (功能描述：解压缩文件)</p>
<ul>
<li><p>zip 常用选项</p>
<p><code>-r</code>：递归压缩，即压缩目录</p>
</li>
<li><p>unzip 的常用选项</p>
<p><code>-d &lt;目录&gt;</code>：指定解压后文件的存放目录</p>
</li>
</ul>
<p>案例1：将<code>/home</code>下的所有文件/文件夹进行压缩成<code>myhome.zip</code></p>
<p><code>zip -r myhome.zip /home/</code> [将<code>home</code>目录及其包含的文件和子文件夹都压缩]</p>
<p>案例2：将<code>myhome.zip</code>解压到<code>/opt/tmp</code>目录下</p>
<pre class="line-numbers language-none"><code class="language-none">mkdir &#x2F;opt&#x2F;tmp
unzip -d &#x2F;opt&#x2F;tmp &#x2F;home&#x2F;myhome.zip<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h3 id="2-8-3-tar指令"><a href="#2-8-3-tar指令" class="headerlink" title="2.8.3 tar指令"></a>2.8.3 tar指令</h3><p><code>tar [选项] XXX.tar.gz 打包的内容</code>(功能描述：打包目录，压缩后的文件格式.tar.gz)</p>
<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20220908145446244.png" alt="tar指令选项说明"></p>
<p>案例1：压缩多个文件，将<code>/home/pig.txt</code>和<code>/home/cat.txt</code>压缩成<code>pc.tar.gz</code></p>
<p><code>tar -zcvf pc.tar.gz /home/pig.txt /home/cat.txt</code></p>
<p>案例2：将<code>/home</code>的文件夹压缩成<code>myhome.tar.gz</code></p>
<p><code>tar -zcvf myhome.tar.gz /home/</code></p>
<p>案例3：将<code>pc.tar.gz</code>解压到当前目录</p>
<p><code>tar -zxvf pc.tar.gz</code></p>
<p>案例4：将<code>myhome.tar.gz</code>解压到<code>/opt/tmp2</code>目录下</p>
<p>(1) <code>mkdir /opt/tmp2</code></p>
<p>(2) <code>tar -zxvf /home/myhome.tar.gz -C /opt/tmp2</code></p>
<h1 id="三、Linux组管理与权限管理"><a href="#三、Linux组管理与权限管理" class="headerlink" title="三、Linux组管理与权限管理"></a>三、Linux组管理与权限管理</h1><p>在Linux中的每个用户必须属于一个组，不能独立于组外。有以下概念：</p>
<p>1) 所有者<br>2) 所在组<br>3) 其它组：除文件的所有者和所在组的用户外，系统的其它用户都是文件的其它组<br>4) 改变用户所在的组</p>
<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20220908150835253.png" alt="Linux组管理与权限管理" style="zoom:80%;" /></p>
<h2 id="3-1-查看-修改文件-目录所在组"><a href="#3-1-查看-修改文件-目录所在组" class="headerlink" title="3.1 查看/修改文件/目录所在组"></a>3.1 查看/修改文件/目录所在组</h2><p>查看文件/目录所在组：<code>ls –ahl</code></p>
<p>修改文件/目录所在组：<code>chgrp 组名 文件名</code></p>
<p>使用<code>root</code>用户创建文件<code>orange.txt</code>，看看当前这个文件属于哪个组，然后将这个文件所在组，修改到<code>fruit</code>组。</p>
<ol>
<li><code>groupadd fruit</code></li>
<li><code>touch orange.txt</code></li>
<li>看看当前这个文件属于哪个组-&gt; <code>root 组</code></li>
<li><code>chgrp fruit orange.txt</code></li>
</ol>
<h2 id="3-2-修改用户所在组"><a href="#3-2-修改用户所在组" class="headerlink" title="3.2 修改用户所在组"></a>3.2 修改用户所在组</h2><p>在添加用户时，可以指定将该用户添加到哪个组中，同样的用<code>root</code>的管理权限可以改变某个用户所在的组。</p>
<p><code>usermod –g 新组名 用户名</code></p>
<p><code>usermod –d 目录名 用户名</code>：改变该用户登陆的初始目录。</p>
<blockquote>
<p>特别说明：用户需要有进入到新目录的权限。</p>
</blockquote>
<h2 id="3-3-权限"><a href="#3-3-权限" class="headerlink" title="3.3 权限"></a>3.3 权限</h2><h3 id="3-3-1-显示内容"><a href="#3-3-1-显示内容" class="headerlink" title="3.3.1 显示内容"></a>3.3.1 显示内容</h3><p><code>ls -l</code>中显示的内容如下：</p>
<p>-rwxrw-r— 1 root root 1213 Feb 2 09:39 abc</p>
<p><strong>0-9 位说明</strong>：</p>
<ul>
<li>第 0 位确定文件类型(d, - , l , c , b)<ul>
<li>l 是<strong>链接</strong>，相当于 windows 的快捷方式</li>
<li>d 是<strong>目录</strong>，相当于 windows 的文件夹</li>
<li>c 是<strong>字符设备文件</strong>，鼠标，键盘</li>
<li>b 是<strong>块设备</strong>，比如硬盘</li>
</ul>
</li>
<li>第 1-3 位确定所有者（该文件的所有者）拥有该文件的权限。—-User</li>
<li>第 4-6 位确定所属组（同用户组的）拥有该文件的权限，—-Group</li>
<li>第 7-9 位确定其他用户拥有该文件的权限—-Other</li>
</ul>
<h3 id="3-3-2-rwx权限"><a href="#3-3-2-rwx权限" class="headerlink" title="3.3.2 rwx权限"></a>3.3.2 rwx权限</h3><ul>
<li><strong>rwx作用到文件</strong>：</li>
</ul>
<ol>
<li>[ r ]代表可读(read)：可以读取,查看</li>
</ol>
<p>2) [ w ]代表可写(write)：可以修改,但是不代表可以删除该文件,删除一个文件的前提条件是对该文件所在的目录有写权限，才能删除该文件<br>3) [ x ]代表可执行(execute)：可以被执行</p>
<ul>
<li><strong>rwx作用到目录</strong>：</li>
</ul>
<p>1) [ r ]代表可读(read)：可以读取，<code>ls</code>查看目录内容<br>2) [ w ]代表可写(write)：可以修改, 对目录内<strong>创建+删除+重命名目录</strong><br>3) [ x ]代表可执行(execute)：可以进入该目录，比如<code>cd</code></p>
<p>可用数字表示为: r=4,w=2,x=1 因此rwx=4+2+1=7, 数字可以进行组合</p>
<p>其它说明：</p>
<ul>
<li>1 <strong>文件:硬连接数</strong>/<strong>目录:子目录数+文件数</strong></li>
<li>root 用户</li>
<li><p>root 组</p>
</li>
<li><p>1213 文件大小(字节)，如果是文件夹，显示4096 字节</p>
</li>
<li>Feb 2 09:39 最后修改日期</li>
<li>abc 文件名</li>
</ul>
<h3 id="3-3-3-修改权限"><a href="#3-3-3-修改权限" class="headerlink" title="3.3.3 修改权限"></a>3.3.3 修改权限</h3><p>通过<code>chmod</code>指令，可以<strong>修改文件或者目录的权限</strong>。</p>
<ul>
<li><strong>+、-、= 变更权限</strong></li>
</ul>
<p><strong>u:所有者    g:所有组    o:其他人    a:所有人(u、g、o 的总和)</strong></p>
<p>1) <code>chmod u=rwx,g=rx,o=x 文件/目录名</code><br>2) <code>chmod o+w 文件/目录名</code><br>3) <code>chmod a-x 文件/目录名</code></p>
<ul>
<li><strong>通过数字变更权限</strong></li>
</ul>
<p>r=4 w=2 x=1 rwx=4+2+1=7</p>
<p><code>chmod u=rwx,g=rx,o=x 文件目录名</code>，相当于<code>chmod 751 文件/目录名</code></p>
<h2 id="3-4-修改文件所有者"><a href="#3-4-修改文件所有者" class="headerlink" title="3.4 修改文件所有者"></a>3.4 修改文件所有者</h2><ul>
<li><p><code>chown newowner 文件/目录</code>：改变所有者</p>
</li>
<li><p><code>chown newowner newgroup 文件/目录</code>：改变所有者和所在组</p>
</li>
</ul>
<blockquote>
<p>注：</p>
<ul>
<li><code>-R</code>表示：如果是目录，则使其下所有子文件或目录递归生效；</li>
<li>修改文件/目录所在组使用<code>chgrp 组名 文件名</code>，详见3.1节。</li>
</ul>
</blockquote>
<h1 id="四、crond任务调度"><a href="#四、crond任务调度" class="headerlink" title="四、crond任务调度"></a>四、crond任务调度</h1><h2 id="4-1-crond时间规则"><a href="#4-1-crond时间规则" class="headerlink" title="4.1 crond时间规则"></a>4.1 crond时间规则</h2><p><code>crontab</code>进行定时任务的设置。</p>
<p><strong>任务调度</strong>：是指系统在某个时间执行的特定的命令或程序。</p>
<p>任务调度分类：</p>
<ol>
<li>系统工作：有些重要的工作必须周而复始地执行。如病毒扫描等；</li>
<li>个别用户工作：个别用户可能希望执行某些程序，比如对 mysql 数据库的备份。</li>
</ol>
<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20220908194425906.png" alt="crond任务调度原理图"></p>
<p><code>crontab [选项]</code></p>
<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20220908194602382.png" alt="crontab选项" style="zoom: 80%;" /></p>
<p>设置任务调度文件：<code>/etc/crontab</code></p>
<p>设置个人任务调度：执行<code>crontab –e</code>命令</p>
<p>接着输入任务到调度文件，如：<code>*/1 * * * * ls –l /etc/ &gt; /tmp/to.txt</code>，意即<strong>每小时的每分钟执行<code>ls –l /etc/ &gt; /tmp/to.txt</code>命令</strong></p>
<p><code>service crond restart</code>：重启任务调度</p>
<blockquote>
<p>注：</p>
<p>[1]<strong>5个占位符的说明</strong>：</p>
<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20220908194954519.png" alt="image-20220908194954519"></p>
<p>[2]<strong>特殊符号的含义</strong>：</p>
<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20220908195035691.png" alt="特殊符号的含义"></p>
<p>[3]<strong>特殊时间执行案例</strong>：</p>
<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20220908200345907.png" alt="特殊时间执行案例"></p>
</blockquote>
<h2 id="4-2-at定时任务"><a href="#4-2-at定时任务" class="headerlink" title="4.2 at定时任务"></a>4.2 at定时任务</h2><h3 id="4-2-1-at定时任务基本概念"><a href="#4-2-1-at定时任务基本概念" class="headerlink" title="4.2.1 at定时任务基本概念"></a>4.2.1 at定时任务基本概念</h3><ol>
<li><p><code>at</code>命令是一次性定时计划任务，<code>at</code>的守护进程<code>atd</code>会以后台模式运行，检查作业队列来运行。</p>
</li>
<li><p>默认情况下，<code>atd</code>守护进程每 60 秒检查作业队列，有作业时，会检查作业运行时间，如果时间与当前时间匹配，则运行此作业。</p>
</li>
<li><p><code>at</code>命令是一次性定时计划任务，执行完一个任务后不再执行此任务了</p>
</li>
<li><p>在使用<code>at</code>命令的时候，一定要保证<code>atd</code>进程的启动, 可以使用相关指令来查看</p>
<ul>
<li><code>ps -ef | grep atd //可以检测atd是否在运行</code></li>
</ul>
</li>
</ol>
<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20220928213155072.png" alt="at定时任务"></p>
<ul>
<li><p><code>at [选项] [时间]</code></p>
</li>
<li><p>Ctrl + D 结束 at 命令的输入，输入两次</p>
</li>
</ul>
<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20220928213420736.png" alt="at命令选项"></p>
<h3 id="4-2-2-at-时间定义"><a href="#4-2-2-at-时间定义" class="headerlink" title="4.2.2 at 时间定义"></a>4.2.2 at 时间定义</h3><ol>
<li>接受在当天的hh:mm（小时:分钟）式的时间指定。假如该时间已过去，那么就放在第二天执行。例如：04:00</li>
</ol>
<p>2) 使用midnight（深夜），noon（中午），teatime（饮茶时间，一般是下午4 点）等比较模糊的词语来指定时间。<br>3) 采用 12 小时计时制，即在时间后面加上AM（上午）或PM（下午）来说明是上午还是下午。例如：12pm<br>4) 指定命令执行的具体日期，指定格式为month day（月日）或mm/dd/yy（月/日/年）或dd.mm.yy（日.月.年），指定的日期必须跟在指定时间的后面。例如：04:00 2021-03-1<br>5) 使用相对计时法。指定格式为：now + count time-units ，now 就是当前时间，time-units 是时间单位，这里能够是minutes（分钟）、hours（小时）、days（天）、weeks（星期）。count 是时间的数量，几天，几小时。例如：now + 5 minutes<br>6) 直接使用today（今天）、tomorrow（明天）来指定完成命令的时间。</p>
<p><strong>案例1</strong>：2 天后的下午5 点执行/bin/ls /home</p>
<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20220928214005610.png" alt="image-20220928214005610"></p>
<p><strong>案例2</strong>：atq 命令来查看系统中没有执行的工作任务</p>
<p><strong>案例3</strong>：明天17 点钟，输出时间到指定文件内比如/root/date100.log</p>
<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20220928214236767.png" alt="image-20220928214236767"></p>
<p><strong>案例4</strong>：2 分钟后，输出时间到指定文件内比如/root/date200.log</p>
<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20220928214245276.png" alt="image-20220928214245276"></p>
<p><strong>案例5</strong>：删除已经设置的任务, atrm 编号</p>
<p><code>atrm 4 //表示将job 队列，编号为4 的job 删除.</code></p>
<h1 id="五、Linux磁盘分区与网络配置"><a href="#五、Linux磁盘分区与网络配置" class="headerlink" title="五、Linux磁盘分区与网络配置"></a>五、Linux磁盘分区与网络配置</h1><h2 id="5-1-Linux分区"><a href="#5-1-Linux分区" class="headerlink" title="5.1 Linux分区"></a>5.1 Linux分区</h2><h3 id="5-1-1-分区原理"><a href="#5-1-1-分区原理" class="headerlink" title="5.1.1 分区原理"></a>5.1.1 分区原理</h3><p>Linux 来说无论有几个分区，分给哪一目录使用，它归根结底就只有一个<strong>根目录</strong>，一个独立且唯一的文件结构, Linux中每个分区都是用来组成整个文件系统的一部分。</p>
<p>Linux 采用了一种叫“<strong>载入</strong>”的处理方法，它的整个文件系统中包含了一整套的文件和目录，且将一个分区和一个目录联系起来。这时要载入的一个分区将使它的存储空间在一个目录下获得。</p>
<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20221009104838482.png" alt="image-20221009104838482"></p>
<h3 id="5-1-2-硬盘与查看挂载情况"><a href="#5-1-2-硬盘与查看挂载情况" class="headerlink" title="5.1.2 硬盘与查看挂载情况"></a>5.1.2 硬盘与查看挂载情况</h3><p>Linux 硬盘分 IDE 硬盘和 SCSI 硬盘，目前基本上是SCSI 硬盘。对于SCSI 硬盘则标识为“sdx~”，SCSI 硬盘是用“sd”来表示分区所在设备的类型的，其中<strong>“x”为盘号</strong>（a 为<strong>基本盘</strong>，b 为<strong>基本从属盘</strong>，c 为<strong>辅助主盘</strong>，d 为<strong>辅助从属盘</strong>）。</p>
<p>查看所有设备挂载情况的命令是<code>lsblk</code>或者<code>lsblk -f</code>。</p>
<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20221009105804195.png" alt="image-20221009105804195"></p>
<p><code>lsblk -f</code>指令打印出来的有分区情况、UUID、挂载点(Mountpoint)等。</p>
<h2 id="5-2-磁盘情况指令"><a href="#5-2-磁盘情况指令" class="headerlink" title="5.2 磁盘情况指令"></a>5.2 磁盘情况指令</h2><p>1) 统计/opt 文件夹下文件的个数</p>
<ul>
<li>ls -l /opt | grep “^-“ | wc -l</li>
</ul>
<p>2) 统计/opt 文件夹下目录的个数</p>
<ul>
<li>ls -l /opt | grep “^d” | wc -l</li>
</ul>
<p>3) 统计/opt 文件夹下文件的个数，包括子文件夹里的</p>
<ul>
<li>ls -lR /opt | grep “^-“ | wc -l</li>
</ul>
<p>4) 统计/opt 文件夹下目录的个数，包括子文件夹里的</p>
<ul>
<li>ls -lR /opt | grep “^d” | wc -l</li>
</ul>
<p>5) 以树状显示目录结构 tree 目录；如果没有 tree，则使用<code>yum install tree</code>安装</p>
<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20221009111102624.png" alt="image-20221009111102624"></p>
<h2 id="5-3-Linux网络配置"><a href="#5-3-Linux网络配置" class="headerlink" title="5.3 Linux网络配置"></a>5.3 Linux网络配置</h2><p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20221009111852780.png" alt="image-20221009111852780"></p>
<ol>
<li><p>浏览器先检查浏览器缓存中有没有该域名解析IP 地址，有就先调用这个IP 完成解析；如果没有，就检查DNS 解析器缓存，如果有直接返回IP 完成解析。这两个缓存，可以理解为本地解析器缓存</p>
</li>
<li><p>一般来说，当电脑第一次成功访问某一网站后，在一定时间内，浏览器或操作系统会缓存他的IP 地址（DNS 解析记录），如在 cmd 窗口中输入</p>
<pre class="line-numbers language-none"><code class="language-none">ipconfig &#x2F;displaydns 	&#x2F;&#x2F;DNS 域名解析缓存
ipconfig &#x2F;flushdns 		&#x2F;&#x2F;手动清理dns 缓存<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
<li><p>如果本地解析器缓存没有找到对应映射，检查系统中hosts 文件中有没有配置对应的域名IP 映射，如果有，则完成解析并返回。</p>
</li>
<li><p>如果本地DNS 解析器缓存和hosts 文件中均没有找到对应的IP，则到域名服务DNS 进行解析域</p>
</li>
</ol>
<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20221009130359735.png" alt="image-20221009130359735"></p>
<h1 id="六、Linux进程管理"><a href="#六、Linux进程管理" class="headerlink" title="六、Linux进程管理"></a>六、Linux进程管理</h1><h2 id="6-1-进程管理原理"><a href="#6-1-进程管理原理" class="headerlink" title="6.1 进程管理原理"></a>6.1 进程管理原理</h2><p>在Linux中，每个执行的程序都称为一个进程，每一个进程都分配一个 ID 号(pid,进程号)。</p>
<p>每个进程都可能以两种方式(<strong>前台与后台</strong>)存在的。所谓前台进程就是用户目前的屏幕上可以进行操作的。后台进程则是实际在操作，但由于屏幕上无法看到的进程，通常使用后台方式执行。</p>
<p>一般系统的服务都是以后台进程的方式存在，而且都会常驻在系统中，直到关机才才结束。</p>
<h2 id="6-2-进程管理相关命令"><a href="#6-2-进程管理相关命令" class="headerlink" title="6.2 进程管理相关命令"></a>6.2 进程管理相关命令</h2><h3 id="6-2-1-显示系统执行的进程"><a href="#6-2-1-显示系统执行的进程" class="headerlink" title="6.2.1 显示系统执行的进程"></a>6.2.1 显示系统执行的进程</h3><p><strong>ps 命令</strong>是用来查看目前系统中，有哪些正在执行，以及它们执行的状况。ps命令有三个参数，一般一起使用，执行命令时<strong>可加<code>| more</code>以分页显示，加<code>| grep</code>进行过滤查询</strong>：</p>
<ul>
<li><code>-a</code>：显示当前终端的所有进程信息</li>
<li><code>-u</code>：以用户的格式显示进程信息</li>
<li><code>-x</code>：显示后台进程运行的参数</li>
</ul>
<p>指令说明：</p>
<ul>
<li>System V 展示风格</li>
<li>USER：用户名称</li>
<li>PID：进程号</li>
<li>CPU：进程占用 CPU 的百分比</li>
<li>MEM：进程占用物理内存的百分比</li>
<li>VSZ：进程占用的虚拟内存大小（单位：KB）</li>
<li>RSS：进程占用的物理内存大小（单位：KB）</li>
<li>TT：终端名称,缩写</li>
<li>STAT：进程状态，其中S-睡眠，s-表示该进程是会话的先导进程，N-表示进程拥有比普通优先级更低的优先级，R-正在运行，D-短期等待，Z-僵死进程，T-被跟踪或者被停止等</li>
<li>STARTED：进程的启动时间</li>
<li>TIME：CPU 时间，即进程使用CPU 的总时间</li>
<li>COMMAND：启动进程所用的命令和参数，如果过长会被截断显示</li>
</ul>
<p>ps -ef 是以全格式显示当前所有的进程，其中<code>-e</code>显示所有进程，<code>-f</code>全格式</p>
<p><code>ps -ef|grep sshd</code>能够<strong>查看进程的父进程</strong>(PID)：</p>
<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20221009152755744.png" alt="image-20221009152755744"></p>
<h3 id="6-2-2-终止进程"><a href="#6-2-2-终止进程" class="headerlink" title="6.2.2 终止进程"></a>6.2.2 终止进程</h3><p>若是某个进程执行一半需要停止时，或是已消了很大的系统资源时，此时可以考虑停止该进程。使用 <strong>kill 命令</strong>来完成此项任务。</p>
<ul>
<li><code>kill [选项] 进程号</code>(功能描述：通过进程号杀死/终止进程)</li>
<li><p><code>killall 进程名称</code>(功能描述：通过进程名称杀死进程，也支持通配符，这在系统因负载过大而变得很慢时很有用)</p>
</li>
<li><p><code>-9</code>：表示强迫进程立即停止</p>
</li>
</ul>
<h3 id="6-2-3-查看进程树pstree"><a href="#6-2-3-查看进程树pstree" class="headerlink" title="6.2.3 查看进程树pstree"></a>6.2.3 查看进程树pstree</h3><p><code>pstree [选项]</code> ,可以更加直观的来看进程信息</p>
<ul>
<li><p><code>-p</code>：显示进程的PID</p>
</li>
<li><p><code>-u</code>：显示进程的所属用户</p>
</li>
</ul>
<h2 id="6-3-服务管理"><a href="#6-3-服务管理" class="headerlink" title="6.3 服务管理"></a>6.3 服务管理</h2><p><strong>服务</strong>(service)本质就是进程，但是是运行在后台的，通常都会监听某个端口，等待其它程序的请求，比如(mysqld , sshd防火墙等)，因此我们又称为<strong>守护进程</strong>。</p>
<h3 id="6-3-1-service管理指令"><a href="#6-3-1-service管理指令" class="headerlink" title="6.3.1 service管理指令"></a>6.3.1 service管理指令</h3><p>service管理指令是：<code>service 服务名 [start | stop | restart | reload | status]</code></p>
<p>在CentOS7.0 后很多服务不再使用<code>service</code>，而是<strong><code>systemctl</code></strong>；<code>service</code>指令管理的服务在<code>/etc/init.d</code>查看：</p>
<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20221010233022566.png" alt="image-20221010233022566"></p>
<h3 id="6-3-2-查看服务名"><a href="#6-3-2-查看服务名" class="headerlink" title="6.3.2 查看服务名"></a>6.3.2 查看服务名</h3><p>方式1：使用<code>setup</code> -&gt; 系统服务就可以看到全部(带*号的会自启动)。</p>
<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20221010233303293.png" alt="image-20221010233303293"></p>
<p>方式2：<code>/etc/init.d</code>看到<code>service</code>指令管理的服务</p>
<p><code>ls -l /etc/init.d</code></p>
<h3 id="6-3-3-服务的运行级别-runlevel"><a href="#6-3-3-服务的运行级别-runlevel" class="headerlink" title="6.3.3 服务的运行级别(runlevel)"></a>6.3.3 服务的运行级别(runlevel)</h3><p>Linux 系统有7 种运行级别(runlevel)：常用的是级别 3 和 5。</p>
<ul>
<li>运行级别0：系统停机状态，系统默认运行级别不能设为0，否则不能正常启动</li>
<li>运行级别1：单用户工作状态，root 权限，用于系统维护，禁止远程登陆</li>
<li>运行级别2：多用户状态(没有NFS)，不支持网络</li>
<li>运行级别3：完全的多用户状态(有NFS)，无界面，登陆后进入控制台命令行模式</li>
<li>运行级别4：系统未使用，保留</li>
<li>运行级别5：X11 控制台，登陆后进入图形GUI 模式</li>
<li>运行级别6：系统正常关闭并重启，默认运行级别不能设为6，否则不能正常启动</li>
</ul>
<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20221010234725560.png" alt="开机流程"></p>
<p>CentOS7 后运行级别说明：</p>
<p>在<code>/etc/initab</code>进行了简化，如下：</p>
<pre class="line-numbers language-none"><code class="language-none">multi-user.target: analogous to runlevel 3
graphical.target: analogous to runlevel 5
init 0

# To view current default target, run:
systemctl get-default

# To set a default target, run:
systemctl set-default multi-user.target<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="6-3-4-chkconfig指令"><a href="#6-3-4-chkconfig指令" class="headerlink" title="6.3.4 chkconfig指令"></a>6.3.4 chkconfig指令</h3><p>通过<code>chkconfig</code>命令可以给服务的各个运行级别<strong>设置自启动/关闭</strong></p>
<p><code>chkconfig</code>指令管理的服务在<code>/etc/init.d</code>查看</p>
<p>1) 查看服务：<code>chkconfig --list [| grep xxx]</code><br>2) <code>chkconfig 服务名 --list</code><br>3) <code>chkconfig --level 5 服务名 on/off</code></p>
<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20221011102234815.png" alt="chkconfig命令"></p>
<h3 id="6-3-5-systemctl指令"><a href="#6-3-5-systemctl指令" class="headerlink" title="6.3.5 systemctl指令"></a>6.3.5 systemctl指令</h3><p>CentOS7.0 后，很多服务使用<code>systemctl</code>管理。</p>
<ul>
<li><strong>systemctl管理指令</strong>：</li>
</ul>
<p><code>systemctl [start | stop | restart | status] 服务名</code></p>
<p>systemctl指令管理的服务在<code>/usr/lib/systemd/system</code>查看</p>
<ul>
<li><strong>systemctl设置服务的自启动状态</strong>：<ul>
<li><code>systemctl list-unit-files [| grep 服务名]</code> (查看服务开机启动状态, grep 可以进行过滤)</li>
<li><code>systemctl enable 服务名</code>(设置服务开机启动)</li>
<li><code>systemctl disable 服务名</code>(关闭服务开机启动)</li>
<li><code>systemctl is-enabled 服务名</code>(查询某个服务是否是自启动的)</li>
</ul>
</li>
</ul>
<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20221011104643326.png" alt="打开或关闭指定端口" style="zoom:80%;" /></p>
<h3 id="6-3-6-firewall指令"><a href="#6-3-6-firewall指令" class="headerlink" title="6.3.6 firewall指令"></a>6.3.6 firewall指令</h3><p>1) 打开端口：firewall-cmd —permanent —add-port=端口号/协议<br>2) 关闭端口：firewall-cmd —permanent —remove-port=端口号/协议<br>3) 重新载入,才能生效：firewall-cmd —reload<br>4) 查询端口是否开放：firewall-cmd —query-port=端口/协议</p>
<h2 id="6-4-动态监控进程"><a href="#6-4-动态监控进程" class="headerlink" title="6.4 动态监控进程"></a>6.4 动态监控进程</h2><p>top与ps命令很相似，它们都用来显示正在执行的进程。top与ps最大的不同之处，在于top在执行一段时间可以<br>更新正在运行的的进程。</p>
<p>语法：<code>top [选项]</code></p>
<p><strong>选项说明</strong>：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">选项</th>
<th style="text-align:center">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-d 秒数</td>
<td style="text-align:center">指定top命令每隔几秒更新，默认为3秒</td>
</tr>
<tr>
<td style="text-align:center">-i</td>
<td style="text-align:center">使top不显示任何闲置或僵死进程</td>
</tr>
<tr>
<td style="text-align:center">-p</td>
<td style="text-align:center">通过指定监控进程ID来仅仅监控某个进程的状态</td>
</tr>
</tbody>
</table>
</div>
<p><strong>交互操作</strong>：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">操作</th>
<th style="text-align:center">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">P</td>
<td style="text-align:center">以CPU使用率排序，默认此项</td>
</tr>
<tr>
<td style="text-align:center">M</td>
<td style="text-align:center">以内存的使用率排序</td>
</tr>
<tr>
<td style="text-align:center">N</td>
<td style="text-align:center">以PID排序</td>
</tr>
<tr>
<td style="text-align:center">Q</td>
<td style="text-align:center">退出top</td>
</tr>
</tbody>
</table>
</div>
<p>案例1：监视特定用户, 比如我们监控 tom 用户：</p>
<ul>
<li>top：输入此命令，按回车键，查看执行的进程</li>
<li>u：然后输入“u”回车，再输入用户名即可</li>
</ul>
<p>案例2：终止指定的进程, 比如我们要结束 tom 登录</p>
<ul>
<li>top：输入此命令，按回车键，查看执行的进程</li>
<li>k：然后输入“k”回车，再输入要结束的进程 ID 号</li>
</ul>
<h2 id="6-5-监控网络状态"><a href="#6-5-监控网络状态" class="headerlink" title="6.5 监控网络状态"></a>6.5 监控网络状态</h2><p>查看系统网络情况<code>netstat</code>：<code>netstat [选项]</code></p>
<ul>
<li>选项说明：<ul>
<li><code>-an</code>：按一定顺序排列输出</li>
<li><code>-p</code>：显示哪个进程在调用</li>
</ul>
</li>
<li>查看服务名为<code>sshd</code>的服务的信息：<code>netstat -anp | grep sshd</code></li>
</ul>
<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20221011115507834.png" alt="监控网络状态"></p>
<h1 id="七、rpm与-yum"><a href="#七、rpm与-yum" class="headerlink" title="七、rpm与 yum"></a>七、rpm与 yum</h1><p>rpm用于互联网<strong>下载包的打包及安装工具</strong>，它包含在某些Linux 分发版中。它生成具有.RPM 扩展名的文件。</p>
<p>rpm是RedHat Package Manager（RedHat 软件包管理工具）的缩写，类似windows 的setup.exe，这一文件格式名称虽然打上了RedHat 的标志，但理念是通用的。</p>
<h2 id="7-1-rpm包名的基本格式"><a href="#7-1-rpm包名的基本格式" class="headerlink" title="7.1 rpm包名的基本格式"></a>7.1 rpm包名的基本格式</h2><p>一个rpm包名：firefox-60.2.2-1.el7.centos.x86_64</p>
<ul>
<li>名称：firefox</li>
<li>版本号：60.2.2-1</li>
<li>适用操作系统: el7.centos.x86_64</li>
<li>表示centos7.x 的64 位系统</li>
<li>如果是i686、i386 表示32 位系统，noarch 表示通用</li>
</ul>
<h2 id="7-2-rpm包的查询指令"><a href="#7-2-rpm包的查询指令" class="headerlink" title="7.2 rpm包的查询指令"></a>7.2 rpm包的查询指令</h2><p><code>rpm -qa</code>：查询所安装的所有 rpm 软件包</p>
<ul>
<li><code>rpm -qa | more</code></li>
<li><code>rpm -qa | grep X [rpm -qa | grep firefox ]</code></li>
</ul>
<p><code>rpm -q 软件包名</code>：查询软件包是否安装</p>
<p><code>rpm -qi 软件包名</code>：查询软件包信息</p>
<p><code>rpm -ql 软件包名</code>：查询软件包中的文件</p>
<p><code>rpm -qf 文件全路径名</code>：查询文件所属的软件包，如：<code>rpm -qf /etc/passwd</code>，<code>rpm -qf /root/install.log</code></p>
<h2 id="7-3-rpm包的安装与卸载指令"><a href="#7-3-rpm包的安装与卸载指令" class="headerlink" title="7.3 rpm包的安装与卸载指令"></a>7.3 rpm包的安装与卸载指令</h2><p><code>rpm -ivh RPM 包全路径名称</code>(tab键可以自动补全完整名称)</p>
<p>参数说明：</p>
<ul>
<li>i=install 安装</li>
<li>v=verbose 提示</li>
<li>h=hash 进度条</li>
</ul>
<p><code>rpm -e RPM 包的名称</code>：卸载rpm包</p>
<p>演示卸载和安装 firefox 浏览器</p>
<ul>
<li><code>rpm -e firefox</code></li>
<li><code>rpm -ivh firefox</code></li>
</ul>
<blockquote>
<p><strong>注</strong>：如果其它软件包依赖于您要卸载的软件包，卸载时则会产生错误信息。</p>
<p>如： $ rpm -e foo<br>removing these packages would break dependencies:foo is needed by bar-1.0-1</p>
<p>如果我们就是要删除 foo 这个 rpm 包，可以增加参数<code>--nodeps</code>，就可以强制删除，但是一般不推荐这样做，因为依赖于该软件包的程序可能无法运行</p>
<p>如：$ rpm -e —nodeps foo</p>
</blockquote>
<h2 id="7-4-yum"><a href="#7-4-yum" class="headerlink" title="7.4 yum"></a>7.4 yum</h2><p>yum是一个Shell前端软件包管理器。基于rpm包管理，能够从指定的<strong>yum服务器</strong>自动下载rpm包并且安装，可以自动处理依赖性关系，并且一次安装所有依赖的软件包。</p>
<ul>
<li><p>查询 yum 服务器是否有需要安装的软件：<code>yum list| grep xx</code></p>
</li>
<li><p><code>yum install xxx 下载安装</code></p>
</li>
</ul>
<p>使用 yum 的方式来安装firefox：</p>
<ul>
<li><code>rpm -e firefox</code></li>
<li><code>yum list | grep firefox</code></li>
<li><code>yum install firefox</code></li>
</ul>
<h1 id="八、Shell编程"><a href="#八、Shell编程" class="headerlink" title="八、Shell编程"></a>八、Shell编程</h1><p>Shell是一个命令行解释器，它为用户提供了一个<strong>向Linux内核发送请求</strong>以便运行程序的界面系统级程序，用户可以用Shell来启动、挂起、停止甚至是编写一些程序。</p>
<h2 id="8-1-Shell脚本格式要求"><a href="#8-1-Shell脚本格式要求" class="headerlink" title="8.1 Shell脚本格式要求"></a>8.1 Shell脚本格式要求</h2><p>脚本以<code>#!/bin/bash</code>开头，且需要有可执行权限</p>
<p>创建一个Shell 脚本，输出hello world!</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">vim</span> hello.sh
<span class="token comment">#!/bin/bash</span>
<span class="token builtin class-name">echo</span> <span class="token string">"hello,world~"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><strong>Shell脚本的执行方式</strong>：</p>
<p>方式1(<strong>输入脚本的绝对路径或相对路径</strong>)：</p>
<ul>
<li>说明：首先要赋予 helloworld.sh 脚本的+x 权限， 再执行脚本</li>
<li>比如<code>./hello.sh</code>或者使用绝对路径<code>/root/shcode/hello.sh</code></li>
</ul>
<p>方式2(<strong>sh+脚本</strong>)：</p>
<ul>
<li>说明：不用赋予脚本+x 权限，直接执行即可</li>
<li>比如<code>sh hello.sh</code>，也可以使用绝对路径</li>
</ul>
<h2 id="8-2-Shell的变量与运算符"><a href="#8-2-Shell的变量与运算符" class="headerlink" title="8.2 Shell的变量与运算符"></a>8.2 Shell的变量与运算符</h2><h3 id="8-2-1-变量定义的规则"><a href="#8-2-1-变量定义的规则" class="headerlink" title="8.2.1 变量定义的规则"></a>8.2.1 变量定义的规则</h3><p>1) Linux Shell 中的变量分为<strong>系统变量</strong>和<strong>用户自定义变量</strong>。<br>2) 系统变量：<code>$HOME</code>、<code>$PWD</code>、<code>$SHELL</code>、<code>$USER</code>等等，比如 <code>echo $HOME</code>等等..<br>3) 显示当前 shell 中所有变量：set</p>
<p>shell 变量的定义：<br>1) <strong>定义变量</strong>：变量名=值<br>2) <strong>撤销变量</strong>：unset 变量<br>3) <strong>声明静态变量</strong>：readonly 变量，注意：不能unset<br>4) <strong>输出变量需要加上$</strong></p>
<p>定义变量的规则：<br>1) 变量名称可以由字母、数字和下划线组成，但是不能以数字开头。5A=200(×)<br>2) <strong>等号两侧不能有空格</strong><br>3) 变量名称一般习惯为大写， 这是一个规范，我们遵守即可</p>
<p>将命令的返回值赋给变量：<strong>反引号</strong>/<strong>$</strong>，运行里面的命令，并把结果返回给变量A</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable">A</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">date</span><span class="token variable">`</span></span>
<span class="token assign-left variable">A</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span><span class="token variable">)</span></span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>案例1：定义变量A</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable">A</span><span class="token operator">=</span><span class="token number">100</span>
<span class="token builtin class-name">echo</span> <span class="token assign-left variable">A</span><span class="token operator">=</span><span class="token variable">$A</span>
<span class="token builtin class-name">echo</span> <span class="token string">"A=<span class="token variable">$A</span>"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>案例2：撤销变量A</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">unset</span> A
<span class="token builtin class-name">echo</span> <span class="token string">"A=<span class="token variable">$A</span>"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>案例3：声明静态的变量B=2，不能unset</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">readonly</span> <span class="token assign-left variable">B</span><span class="token operator">=</span><span class="token number">2</span>
<span class="token builtin class-name">echo</span> <span class="token string">"B=<span class="token variable">$B</span>"</span>
<span class="token comment">#unset B(wrong)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="8-2-2-设置环境变量"><a href="#8-2-2-设置环境变量" class="headerlink" title="8.2.2 设置环境变量"></a>8.2.2 设置环境变量</h3><p>1) export 变量名=变量值（功能描述：将shell 变量输出为<strong>环境变量/全局变量</strong>[可被多个文件共享]）<br>2) source 配置文件（功能描述：让修改后的配置信息立即生效）<br>3) echo $变量名（功能描述：查询环境变量的值）</p>
<p><strong>设置环境变量的步骤</strong>：</p>
<p>1) <strong>在/etc/profile文件中定义TOMCAT_HOME环境变量</strong><br>2) 查看环境变量TOMCAT_HOME的值<br>3) 在另外一个shell 程序中使用TOMCAT_HOME</p>
<blockquote>
<p>注：</p>
<p>[1]在输出TOMCAT_HOME 环境变量前，需要让其生效</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">source</span> /etc/profile<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>[2]<strong>shell脚本的多行注释</strong>：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">:<span class="token operator">&lt;&lt;</span><span class="token operator">!</span>

内容

<span class="token operator">!</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<h3 id="8-2-3-位置参数变量"><a href="#8-2-3-位置参数变量" class="headerlink" title="8.2.3 位置参数变量"></a>8.2.3 位置参数变量</h3><p>当我们执行一个 shell 脚本时，如果希望获取到命令行的参数信息，就可以使用到位置参数变量<br>比如： <code>./myshell.sh 100 200</code> ，这个就是一个执行 shell 的命令行，可以在 myshell 脚本中获取到参数信息</p>
<ul>
<li><p><code>$n</code> （功能描述：n 为数字，<code>$0</code> <strong>代表命令本身</strong>，<code>$1</code>-<code>$9</code> <strong>代表第一到第九个参数</strong>，十以上的参数，十以上的参数需要<strong>用大括号包含</strong>，如<code>$&#123;10&#125;</code>）</p>
</li>
<li><p><code>$*</code> （功能描述：这个变量代表命令行中所有的参数，<code>$*</code>把所有的参数看成一个整体）</p>
</li>
<li><p><code>$@</code>（功能描述：这个变量也代表命令行中所有的参数，不过<code>$@</code>把每个参数区分对待）</p>
</li>
<li><p><code>$#</code>（功能描述：这个变量代表命令行中所有参数的个数）</p>
</li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>
<span class="token builtin class-name">echo</span> <span class="token string">"0=<span class="token variable">$0</span> 1=<span class="token variable">$1</span> 2=<span class="token variable">$2</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"所有的参数=<span class="token variable">$*</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$@</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"参数的个数=<span class="token variable">$#</span>"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20221011235059122.png" alt="执行结果截图"></p>
<h3 id="8-2-4-预定义变量"><a href="#8-2-4-预定义变量" class="headerlink" title="8.2.4 预定义变量"></a>8.2.4 预定义变量</h3><p>预定义变量是 shell 设计者事先已经定义好的变量，可以直接在 shell 脚本中使用。</p>
<p>1) <code>$$</code>（功能描述：当前进程的进程号（PID））<br>2) <code>$!</code>（功能描述：后台运行的最后一个进程的进程号（PID））<br>3) <code>$?</code>（功能描述：最后一次执行的命令的返回状态。如果这个变量的值为0，证明上一个命令正确执行；如果这个变量的值为非0（具体是哪个数，由命令自己来决定），则证明上一个命令执行不正确了。）</p>
<h3 id="8-2-5-运算符"><a href="#8-2-5-运算符" class="headerlink" title="8.2.5 运算符"></a>8.2.5 运算符</h3><p>1) “<code>$((运算式))</code>”或“<code>$[运算式]</code>”或者expr m + n //expression 表达式<br>2) 注意：expr 运算符间要有空格, 如果希望将 expr 的结果赋给某个变量，使用<code>`
4)</code>expr *, /, %` 乘，除，取余</p>
<p>案例1：计算（2+3）X 4 的值</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#使用第一种方式</span>
<span class="token assign-left variable">RES1</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">4</span><span class="token variable">))</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">"res1=<span class="token variable">$RES1</span>"</span>
<span class="token comment">#使用第二种方式, 推荐使用</span>
<span class="token assign-left variable">RES2</span><span class="token operator">=</span>$<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">2</span>+3<span class="token punctuation">)</span>*4<span class="token punctuation">]</span>
<span class="token builtin class-name">echo</span> <span class="token string">"res2=<span class="token variable">$RES2</span>"</span>
<span class="token comment">#使用第三种方式expr</span>
<span class="token assign-left variable">TEMP</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> <span class="token number">2</span> + <span class="token number">3</span><span class="token variable">`</span></span>
<span class="token assign-left variable">RES4</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $TEMP <span class="token punctuation">\</span>* <span class="token number">4</span><span class="token variable">`</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">"temp=<span class="token variable">$TEMP</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"res4=<span class="token variable">$RES4</span>"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>案例2：请求出命令行的两个参数[整数]的和 20 50</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable">SUM</span><span class="token operator">=</span>$<span class="token punctuation">[</span><span class="token variable">$1</span>+<span class="token variable">$2</span><span class="token punctuation">]</span>
<span class="token builtin class-name">echo</span> <span class="token string">"sum=<span class="token variable">$SUM</span>"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="8-3-条件判断"><a href="#8-3-条件判断" class="headerlink" title="8.3 条件判断"></a>8.3 条件判断</h2><p><code>[ condition ]</code></p>
<blockquote>
<p>注意：condition 前后要有空格</p>
</blockquote>
<p>非空返回true，可使用<code>$?</code>验证（0 为true，&gt;1 为false）</p>
<p><strong>常用判断条件</strong>：</p>
<ol>
<li><p><strong>字符串比较</strong></p>
<ul>
<li><code>=</code></li>
</ul>
</li>
<li><p><strong>两个整数的比较</strong></p>
<ul>
<li><p><code>-lt</code> 小于</p>
</li>
<li><p><code>-le</code> 小于等于little equal</p>
</li>
<li><code>-eq</code> 等于</li>
<li><code>-gt</code> 大于</li>
<li><code>-ge</code> 大于等于</li>
<li><code>-ne</code> 不等于</li>
</ul>
</li>
</ol>
<p>3) <strong>按照文件权限进行判断</strong></p>
<ul>
<li><code>-r</code> 有读的权限</li>
<li><code>-w</code> 有写的权限</li>
<li><code>-x</code> 有执行的权限<br>4) <strong>按照文件类型进行判断</strong></li>
<li><code>-f</code>  文件存在并且是一个常规的文件</li>
<li><code>-e</code> 文件存在</li>
<li><code>-d</code> 文件存在并是一个目录</li>
</ul>
<p>案例1：”ok”是否等于”ok”</p>
<p>判断语句：使用=</p>
<p>案例2：23 是否大于等于22</p>
<p>判断语句：使用-ge</p>
<p>案例3：/root/shcode/aaa.txt 目录中的文件是否存在</p>
<p>判断语句： 使用-f</p>
<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20221012093809813.png" alt="image-20221012093809813" style="zoom: 67%;" /></p>
<h2 id="8-4-流程控制"><a href="#8-4-流程控制" class="headerlink" title="8.4 流程控制"></a>8.4 流程控制</h2><h3 id="8-4-1-if判断"><a href="#8-4-1-if判断" class="headerlink" title="8.4.1 if判断"></a>8.4.1 if判断</h3><p>if [ 条件判断式]<br>then<br>代码<br>fi<br>或者<strong>多分支</strong>：</p>
<p>if [ 条件判断式]<br>then<br>代码<br>elif [条件判断式]<br>then<br>代码<br>fi</p>
<blockquote>
<p>注意：[ 条件判断式]，中括号和条件判断式之间必须有空格</p>
</blockquote>
<p>案例：请编写一个shell 程序，如果输入的参数，大于等于60，则输出”及格了”，如果小于60,则输出”不及格”</p>
<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20221012094547086.png" alt="image-20221012094547086"></p>
<h3 id="8-4-2-case语句"><a href="#8-4-2-case语句" class="headerlink" title="8.4.2 case语句"></a>8.4.2 case语句</h3><p>case $变量名 in<br>“值1”）<br>如果变量的值等于值1，则执行程序1<br>;;<br>“值2”）<br>如果变量的值等于值2，则执行程序2<br>;;<br>…省略其他分支…<br>*）<br>如果变量的值都不是以上的值，则执行此程序<br>;;<br>esac</p>
<p>案例 ：当命令行参数是1 时，输出”周一”, 是2 时，就输出”周二”， 其它情况输出”other”</p>
<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20221012095056617.png" alt="image-20221012095056617"></p>
<h3 id="8-4-3-for循环"><a href="#8-4-3-for循环" class="headerlink" title="8.4.3 for循环"></a>8.4.3 for循环</h3><p><strong>语法结构1</strong>：</p>
<p>for 变量 in 值1 值2 值3…<br>do<br>程序/代码<br>done</p>
<p><strong>语法结构2</strong>：</p>
<p>for (( 初始值; 循环控制条件; 变量变化))<br>do<br>程序/代码<br>done</p>
<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20221012095713376.png" alt="image-20221012095713376"></p>
<h3 id="8-4-4-while循环"><a href="#8-4-4-while循环" class="headerlink" title="8.4.4 while循环"></a>8.4.4 while循环</h3><p>while [ 条件判断式 ]<br>do<br>程序/代码<br>done</p>
<blockquote>
<p>注意：<strong>while 和[有空格</strong>，<strong>条件判断式和[也有空格</strong></p>
</blockquote>
<p>案例：从命令行输入一个数n，统计从 1 + 2 + … + n 的值是多少？</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">SUM</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token keyword">while</span> <span class="token punctuation">[</span> <span class="token variable">$i</span> -le <span class="token variable">$1</span> <span class="token punctuation">]</span>
<span class="token keyword">do</span>
<span class="token assign-left variable">SUM</span><span class="token operator">=</span>$<span class="token punctuation">[</span><span class="token variable">$SUM</span>+<span class="token variable">$i</span><span class="token punctuation">]</span>
<span class="token comment">#i 自增</span>
<span class="token assign-left variable">i</span><span class="token operator">=</span>$<span class="token punctuation">[</span><span class="token variable">$i</span>+1<span class="token punctuation">]</span>
<span class="token keyword">done</span>
<span class="token builtin class-name">echo</span> <span class="token string">"执行结果=<span class="token variable">$SUM</span>"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="8-5-read读取控制台输入"><a href="#8-5-read读取控制台输入" class="headerlink" title="8.5 read读取控制台输入"></a>8.5 read读取控制台输入</h2><p><code>read(选项)(参数)</code></p>
<p>选项：</p>
<ul>
<li>-p：指定读取值时的提示符；</li>
<li>-t：指定读取值时等待的时间（秒），如果没有在指定的时间内输入，就不再等待了</li>
</ul>
<p>参数：</p>
<ul>
<li>变量：指定读取值的变量名</li>
</ul>
<p>案例1：读取控制台输入一个NUM1 值。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">read</span> -p <span class="token string">"请输入一个数NUM1="</span> NUM1
<span class="token builtin class-name">echo</span> <span class="token string">"你输入的NUM1=<span class="token variable">$NUM1</span>"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>案例2：读取控制台输入一个NUM2 值，在10 秒内输入。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">read</span> -t <span class="token number">10</span> -p <span class="token string">"请输入一个数NUM2="</span> NUM2
<span class="token builtin class-name">echo</span> <span class="token string">"你输入的NUM2=<span class="token variable">$NUM2</span>"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="8-6-函数"><a href="#8-6-函数" class="headerlink" title="8.6 函数"></a>8.6 函数</h2><p>shell编程和其它编程语言一样，有系统函数，也可以自定义函数。</p>
<h3 id="8-6-1-系统函数"><a href="#8-6-1-系统函数" class="headerlink" title="8.6.1 系统函数"></a>8.6.1 系统函数</h3><p><strong>basename基本语法</strong>：</p>
<p>功能：返回完整路径最后<code>/</code>的部分，常用于获取文件名</p>
<p><code>basename [pathname] [suffix]</code></p>
<p>功能描述：basename 命令会删掉所有的前缀包括最后一个（‘/’）字符，然后将字符串显示出来。</p>
<p>选项：<code>suffix</code>为后缀，如果<code>suffix</code>被指定了，<code>basename</code>会将<code>pathname</code>或<code>string</code>中的<code>suffix</code>去掉。</p>
<p>案例1：请返回<code>/home/aaa/test.txt</code>的”test.txt”部分</p>
<p><code>basename /home/aaa/test.txt</code></p>
<p><strong>dirname基本语法</strong>：</p>
<p>功能：返回完整路径最后<code>/</code>的前面的部分，常用于返回路径部分</p>
<p><code>dirname 文件绝对路径</code>（功能描述：从给定的包含绝对路径的文件名中去除文件名（非目录的部分），然后返回剩下的路径（目录的部分））</p>
<p>案例2：请返回/home/aaa/test.txt 的/home/aaa</p>
<p><code>dirname /home/aaa/test.txt</code></p>
<h3 id="8-6-2-自定义函数"><a href="#8-6-2-自定义函数" class="headerlink" title="8.6.2 自定义函数"></a>8.6.2 自定义函数</h3><p>[ function ] funname[()]<br>{<br>    Action;<br>    [return int;]<br>}</p>
<p>调用直接写函数名：<code>funname [值]</code></p>
<p>案例：计算输入两个参数的和(动态的获取)， getSum</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#定义函数getSum</span>
<span class="token keyword">function</span> <span class="token function-name function">getSum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
<span class="token assign-left variable">SUM</span><span class="token operator">=</span>$<span class="token punctuation">[</span><span class="token variable">$n1</span>+<span class="token variable">$n2</span><span class="token punctuation">]</span>
<span class="token builtin class-name">echo</span> <span class="token string">"和是=<span class="token variable">$SUM</span>"</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">#输入两个值</span>
<span class="token builtin class-name">read</span> -p <span class="token string">"请输入一个数n1="</span> n1
<span class="token builtin class-name">read</span> -p <span class="token string">"请输入一个数n2="</span> n2
<span class="token comment">#调用自定义函数</span>
getSum <span class="token variable">$n1</span> <span class="token variable">$n2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="8-7-Shell综合案例：备份数据库"><a href="#8-7-Shell综合案例：备份数据库" class="headerlink" title="8.7 Shell综合案例：备份数据库"></a>8.7 Shell综合案例：备份数据库</h2><p><strong>需求分析</strong>：</p>
<p>1) 每天凌晨2:30 备份数据库hspedu到/data/backup/db</p>
<ul>
<li><code>crontab  -e</code></li>
<li><code>30 2 * * * /usr/sbin/mysql_db_backup.sh</code><br>2) 备份开始和备份结束能够给出相应的提示信息<br>3) 备份后的文件要求以备份时间为文件名，并打包成.tar.gz的形式，比如：2021-03-12_230201.tar.gz<br>4) 在备份的同时，检查是否有10天前备份的数据库文件，如果有就将其删除。</li>
</ul>
<div style="font-weight:700" align = "center">数据库备份步骤</div>

<p><img src="https://qianzeshu.oss-cn-hangzhou.aliyuncs.com/img/image-20221012113236492.png" alt="数据库备份步骤"></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#备份目录</span>
<span class="token assign-left variable">BACKUP</span><span class="token operator">=</span>/data/backup/db
<span class="token comment">#当前时间</span>
<span class="token assign-left variable">DATETIME</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%Y-%m-%d_%H%M%S<span class="token variable">)</span></span>
<span class="token builtin class-name">echo</span> <span class="token variable">$DATETIME</span>
<span class="token comment">#数据库的地址</span>
<span class="token assign-left variable">HOST</span><span class="token operator">=</span>localhost
<span class="token comment">#数据库用户名</span>
<span class="token assign-left variable">DB_USER</span><span class="token operator">=</span>root
<span class="token comment">#数据库密码</span>
<span class="token assign-left variable">DB_PW</span><span class="token operator">=</span>hspedu100
<span class="token comment">#备份的数据库名</span>
<span class="token assign-left variable">DATABASE</span><span class="token operator">=</span>hspedu
<span class="token comment">#创建备份目录, 如果不存在，就创建</span>
<span class="token punctuation">[</span> <span class="token operator">!</span> -d <span class="token string">"<span class="token variable">$&#123;BACKUP&#125;</span>/<span class="token variable">$&#123;DATETIME&#125;</span>"</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token function">mkdir</span> -p <span class="token string">"<span class="token variable">$&#123;BACKUP&#125;</span>/<span class="token variable">$&#123;DATETIME&#125;</span>"</span>
<span class="token comment">#备份数据库</span>
mysqldump -u<span class="token variable">$&#123;DB_USER&#125;</span> -p<span class="token variable">$&#123;DB_PW&#125;</span> --host<span class="token operator">=</span><span class="token variable">$&#123;HOST&#125;</span> -q -R --databases <span class="token variable">$&#123;DATABASE&#125;</span> <span class="token operator">|</span> <span class="token function">gzip</span> <span class="token operator">></span>
<span class="token variable">$&#123;BACKUP&#125;</span>/<span class="token variable">$&#123;DATETIME&#125;</span>/<span class="token variable">$DATETIME</span>.sql.gz
<span class="token comment">#将包含目录的文件处理成tar.gz</span>
<span class="token builtin class-name">cd</span> <span class="token variable">$&#123;BACKUP&#125;</span>
<span class="token function">tar</span> -zcvf <span class="token variable">$DATETIME</span>.tar.gz <span class="token variable">$&#123;DATETIME&#125;</span>
<span class="token comment">#删除对应的备份目录</span>
<span class="token function">rm</span> -rf <span class="token variable">$&#123;BACKUP&#125;</span>/<span class="token variable">$&#123;DATETIME&#125;</span>
<span class="token comment">#删除10天前的备份文件</span>
<span class="token function">find</span> <span class="token variable">$&#123;BACKUP&#125;</span> -atime +10 -name <span class="token string">"*.tar.gz"</span> -exec <span class="token function">rm</span> -rf <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">\</span><span class="token punctuation">;</span>
<span class="token builtin class-name">echo</span> <span class="token string">"备份数据库<span class="token variable">$&#123;DATABASE&#125;</span> 成功~"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="九、APT软件管理与远程登录"><a href="#九、APT软件管理与远程登录" class="headerlink" title="九、APT软件管理与远程登录"></a>九、APT软件管理与远程登录</h1><h2 id="9-1-apt软件管理"><a href="#9-1-apt软件管理" class="headerlink" title="9.1 apt软件管理"></a>9.1 apt软件管理</h2>
                                    
                            </div>
                            <hr />

                            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">ShiQuLiZhi</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://sxhthreo.github.io/2022/09/06/development/kai-fa-01-linux-xi-tong-ji-ying-yong-bi-ji/">https://sxhthreo.github.io/2022/09/06/development/kai-fa-01-linux-xi-tong-ji-ying-yong-bi-ji/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">ShiQuLiZhi</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



                                <div class="tag_share" style="display: block;">
                                    <div class="post-meta__tag-list" style="display: inline-block;">
                                        
                                            <div class="article-tag">
                                                
                                                    <a href="/tags/%E5%90%8E%E7%AB%AF/">
                                                        <span class="chip bg-color">
                                                            后端
                                                        </span>
                                                    </a>
                                                    
                                                    <a href="/tags/Linux%E7%B3%BB%E7%BB%9F/">
                                                        <span class="chip bg-color">
                                                            Linux系统
                                                        </span>
                                                    </a>
                                                    
                                                    <a href="/tags/%E7%90%86%E8%AE%BA%E7%9F%A5%E8%AF%86/">
                                                        <span class="chip bg-color">
                                                            理论知识
                                                        </span>
                                                    </a>
                                                    
                                            </div>
                                            
                                    </div>
                                    <div class="post_share"
                                        style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                                        <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                                    </div>
                                </div>
                                
                        </div>
    </div>

    

                

                            

                                        

                                                    
                                                        <style>
    .valine-card {
        margin: 1.5rem auto;
    }

    .valine-card .card-content {
        padding: 20px 20px 5px 20px;
    }

    #vcomments textarea {
        box-sizing: border-box;
        background: url("/medias/comment_bg.png") 100% 100% no-repeat;
    }

    #vcomments p {
        margin: 2px 2px 10px;
        font-size: 1.05rem;
        line-height: 1.78rem;
    }

    #vcomments blockquote p {
        text-indent: 0.2rem;
    }

    #vcomments a {
        padding: 0 2px;
        color: #4cbf30;
        font-weight: 500;
        text-decoration: none;
    }

    #vcomments img {
        max-width: 100%;
        height: auto;
        cursor: pointer;
    }

    #vcomments ol li {
        list-style-type: decimal;
    }

    #vcomments ol,
    ul {
        display: block;
        padding-left: 2em;
        word-spacing: 0.05rem;
    }

    #vcomments ul li,
    ol li {
        display: list-item;
        line-height: 1.8rem;
        font-size: 1rem;
    }

    #vcomments ul li {
        list-style-type: disc;
    }

    #vcomments ul ul li {
        list-style-type: circle;
    }

    #vcomments table,
    th,
    td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    #vcomments table,
    th,
    td {
        border: 0;
    }

    table tr:nth-child(2n),
    thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments h1 {
        font-size: 1.85rem;
        font-weight: bold;
        line-height: 2.2rem;
    }

    #vcomments h2 {
        font-size: 1.65rem;
        font-weight: bold;
        line-height: 1.9rem;
    }

    #vcomments h3 {
        font-size: 1.45rem;
        font-weight: bold;
        line-height: 1.7rem;
    }

    #vcomments h4 {
        font-size: 1.25rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    #vcomments h5 {
        font-size: 1.1rem;
        font-weight: bold;
        line-height: 1.4rem;
    }

    #vcomments h6 {
        font-size: 1rem;
        line-height: 1.3rem;
    }

    #vcomments p {
        font-size: 1rem;
        line-height: 1.5rem;
    }

    #vcomments hr {
        margin: 12px 0;
        border: 0;
        border-top: 1px solid #ccc;
    }

    #vcomments blockquote {
        margin: 15px 0;
        border-left: 5px solid #42b983;
        padding: 1rem 0.8rem 0.3rem 0.8rem;
        color: #666;
        background-color: rgba(66, 185, 131, .1);
    }

    #vcomments pre {
        font-family: monospace, monospace;
        padding: 1.2em;
        margin: .5em 0;
        background: #272822;
        overflow: auto;
        border-radius: 0.3em;
        tab-size: 4;
    }

    #vcomments code {
        font-family: monospace, monospace;
        padding: 1px 3px;
        font-size: 0.92rem;
        color: #e96900;
        background-color: #f8f8f8;
        border-radius: 2px;
    }

    #vcomments pre code {
        font-family: monospace, monospace;
        padding: 0;
        color: #e8eaf6;
        background-color: #272822;
    }

    #vcomments pre[class*="language-"] {
        padding: 1.2em;
        margin: .5em 0;
    }

    #vcomments code[class*="language-"],
    pre[class*="language-"] {
        color: #e8eaf6;
    }

    #vcomments [type="checkbox"]:not(:checked),
    [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }

    #vcomments b,
    strong {
        font-weight: bold;
    }

    #vcomments dfn {
        font-style: italic;
    }

    #vcomments small {
        font-size: 85%;
    }

    #vcomments cite {
        font-style: normal;
    }

    #vcomments mark {
        background-color: #fcf8e3;
        padding: .2em;
    }

    #vcomments table,
    th,
    td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    table tr:nth-child(2n),
    thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments [type="checkbox"]:not(:checked),
    [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }
</style>

<div class="card valine-card" data-aos="fade-up">
    <div class="comment_headling"
        style="font-size: 20px; font-weight: 700; position: relative; padding-left: 20px; top: 15px; padding-bottom: 5px;">
        <i class="fas fa-comments fa-fw" aria-hidden="true"></i>
        <span>评论</span>
    </div>
    <div id="vcomments" class="card-content" style="display: grid">
    </div>
</div>

<script src="/libs/valine/av-min.js"></script>
<script src="https://unpkg.com/valine/dist/Valine.min.js"></script>
<script>
    new Valine({
        el: '#vcomments',
        appId: '8SzvSoQjCOrTadqpJ1LjqujD-9Nh9j0Va',
        appKey: 'iv4mV6VBG7twuE7yQgwpsYaq',
        notify: '' === 'true',
        verify: '' === 'true',
        visitor: '' === 'true',
        avatar: '/medias/moren.png',
        pageSize: '10',
        lang: 'zh-cn',
        placeholder: '快来评论区发表你的观点吧~ 听说昵称填写qq号可以显示qq头像和qq昵称哦!',
        enableQQ: true,
        boolean: true,
        emojiCDN: '//i0.hdslb.com/bfs/emote/',
        // 表情title和图片映射
        emojiMaps: {
            "tv_doge": "6ea59c827c414b4a2955fe79e0f6fd3dcd515e24.png",
            "tv_亲亲": "a8111ad55953ef5e3be3327ef94eb4a39d535d06.png",
            "tv_偷笑": "bb690d4107620f1c15cff29509db529a73aee261.png",
            "tv_再见": "180129b8ea851044ce71caf55cc8ce44bd4a4fc8.png",
            "tv_冷漠": "b9cbc755c2b3ee43be07ca13de84e5b699a3f101.png",
            "tv_发怒": "34ba3cd204d5b05fec70ce08fa9fa0dd612409ff.png",
            "tv_发财": "34db290afd2963723c6eb3c4560667db7253a21a.png",
            "tv_可爱": "9e55fd9b500ac4b96613539f1ce2f9499e314ed9.png",
            "tv_吐血": "09dd16a7aa59b77baa1155d47484409624470c77.png",
            "tv_呆": "fe1179ebaa191569b0d31cecafe7a2cd1c951c9d.png",
            "tv_呕吐": "9f996894a39e282ccf5e66856af49483f81870f3.png",
            "tv_困": "241ee304e44c0af029adceb294399391e4737ef2.png",
            "tv_坏笑": "1f0b87f731a671079842116e0991c91c2c88645a.png",
            "tv_大佬": "093c1e2c490161aca397afc45573c877cdead616.png",
            "tv_大哭": "23269aeb35f99daee28dda129676f6e9ea87934f.png",
            "tv_委屈": "d04dba7b5465779e9755d2ab6f0a897b9b33bb77.png",
            "tv_害羞": "a37683fb5642fa3ddfc7f4e5525fd13e42a2bdb1.png",
            "tv_尴尬": "7cfa62dafc59798a3d3fb262d421eeeff166cfa4.png",
            "tv_微笑": "70dc5c7b56f93eb61bddba11e28fb1d18fddcd4c.png",
            "tv_思考": "90cf159733e558137ed20aa04d09964436f618a1.png",
            "tv_惊吓": "0d15c7e2ee58e935adc6a7193ee042388adc22af.png",
            "tv_打脸": "56ab10b624063e966bfcb76ea5dc4794d87dfd47.png",
            "tv_抓狂": "fe31c08edad661d63762b04e17b8d5ae3c71a757.png",
            "tv_抠鼻": "c666f55e88d471e51bbd9fab9bb308110824a6eb.png",
            "tv_斜眼笑": "911f987aa8bc1bee12d52aafe62bc41ef4474e6c.png",
            "tv_无奈": "ea8ed89ee9878f2fece2dda0ea8a5dbfe21b5751.png",
            "tv_晕": "5443c22b4d07fb1907ccc610c8e6db254f2461b7.png",
            "tv_流汗": "cead1c351ab8d79e9f369605beb90148db0fbed3.png",
            "tv_流泪": "7e71cde7858f0cd50d74b0264aa26db612a8a167.png",
            "tv_流鼻血": "c32d39db2737f89b904ca32700d140a9241b0767.png",
            "tv_点赞": "f85c354995bd99e28fc76c869bfe42ba6438eff4.png",
            "tv_生气": "26702dcafdab5e8225b43ffd23c94ac1ff932654.png",
            "tv_生病": "8b0ec90e6b86771092a498c54f09fc94621c1900.png",
            "tv_疑问": "0793d949b18d7be716078349c202c15ff166f314.png",
            "tv_白眼": "c1d59f439e379ee50eef488bcb5e5378e5044ea4.png",
            "tv_皱眉": "72ccad6679fea0d14cce648b4d818e09b8ffea2d.png",
            "tv_目瞪口呆": "0b8cb81a68de5d5365212c99375e7ace3e7891b7.png",
            "tv_睡着": "8b196675b53af58264f383c50ad0945048290b33.png",
            "tv_笑哭": "1abc628f6d4f4caf9d0e7800878f4697abbc8273.png",
            "tv_腼腆": "89712c0d4af73e67f89e35cbc518420380a7f6f4.png",
            "tv_色": "61822c7e9aae5da76475e7892534545336b23a6f.png",
            "tv_调侃": "4bc022533ef31544ca0d72c12c808cf4a1cce3e3.png",
            "tv_调皮": "b9c41de8e82dd7a8515ae5e3cb63e898bf245186.png",
            "tv_鄙视": "6e72339f346a692a495b123174b49e4e8e781303.png",
            "tv_闭嘴": "c9e990da7f6e93975e25fd8b70e2e290aa4086ef.png",
            "tv_难过": "87f46748d3f142ebc6586ff58860d0e2fc8263ba.png",
            "tv_馋": "fc7e829b845c43c623c8b490ee3602b7f0e76a31.png",
            "tv_鬼脸": "0ffbbddf8a94d124ca2f54b360bbc04feb6bbfea.png",
            "tv_黑人问号": "45821a01f51bc867da9edbaa2e070410819a95b2.png",
            "tv_鼓掌": "1d21793f96ef4e6f48b23e53e3b9e42da833a0f6.png"
        },
        requiredFields: ['nick'], //设置必填项
    });
</script>
                                                            

                                                                

                                                                            

                                                                                        

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2022/09/07/homework/algorithm/si-kao-ti-0907-dong-tai-bian-hua-de-shu-ju-zhong-huo-qu-zui-xiao-zhi/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/7.jpg" class="responsive-img" alt="算法课外思考题0907(动态变化的数据中获取最小值)">
                        
                        <span class="card-title">算法课外思考题0907(动态变化的数据中获取最小值)</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2022-09-07
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E4%BD%9C%E4%B8%9A/" class="post-category">
                                    作业
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E7%AE%97%E6%B3%95/">
                        <span class="chip bg-color">算法</span>
                    </a>
                    
                    <a href="/tags/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/">
                        <span class="chip bg-color">程序设计</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2022/09/02/homework/algorithm/si-kao-ti-0902-o-1-qiu-zhan-de-zui-xiao-zhi-yu-zhan-pai-xu/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/17.jpg" class="responsive-img" alt="算法课外思考题0902(O(1)求栈的最小值与栈排序)">
                        
                        <span class="card-title">算法课外思考题0902(O(1)求栈的最小值与栈排序)</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2022-09-02
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E4%BD%9C%E4%B8%9A/" class="post-category">
                                    作业
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E7%AE%97%E6%B3%95/">
                        <span class="chip bg-color">算法</span>
                    </a>
                    
                    <a href="/tags/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/">
                        <span class="chip bg-color">程序设计</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>


    <script>
        $('#articleContent').on('copy', function (e) {
            // IE8 or earlier browser is 'undefined'
            if (typeof window.getSelection === 'undefined') return;

            var selection = window.getSelection();
            // if the selection is short let's not annoy our users.
            if (('' + selection).length < Number.parseInt('150')) {
                return;
            }

            // create a div outside of the visible area and fill it with the selected text.
            var bodyElement = document.getElementsByTagName('body')[0];
            var newdiv = document.createElement('div');
            newdiv.style.position = 'absolute';
            newdiv.style.left = '-99999px';
            bodyElement.appendChild(newdiv);
            newdiv.appendChild(selection.getRangeAt(0).cloneContents());

            // we need a <pre> tag workaround.
            // otherwise the text inside "pre" loses all the line breaks!
            if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'CODE') {
                newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
            }

            var url = document.location.href;
            newdiv.innerHTML += '<br />'
                + '来源: ShiQuLiZhi BLOG<br />'
                + '文章作者: ShiQuLiZhi<br />'
                + '文章链接: <a href="' + url + '">' + url + '</a><br />'
                + '本文著作权归作者所有，任何形式的转载均请注明出处。';

            selection.selectAllChildren(newdiv);
            window.setTimeout(function () { bodyElement.removeChild(newdiv); }, 200);
        });
    </script>
    

        <!-- 代码块功能依赖 -->
        <script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

        <!-- 代码语言 -->
        
            <script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>
            

                <!-- 代码块复制 -->
                
                    <script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>
                    

                        <!-- 代码块收缩 -->
                        
                            <script type="text/javascript"
                                src="/libs/codeBlock/codeShrink.js"></script>
                            

                                <!-- 代码块折行 -->
                                
    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('1'),
            headingSelector: 'h1, h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h1, h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




                            <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="503838841"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>

    
    <div class="container row center-align" style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2022-2023</span>
            
            <span id="year">2022</span>
            <a href="/about" target="_blank">ShiQuLiZhi</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            &nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span
                class="white-color">389.7k</span>&nbsp;字
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <span id="sitetime">载入运行时间...</span>
            <script>
                function siteTime() {
                    var seconds = 1000;
                    var minutes = seconds * 60;
                    var hours = minutes * 60;
                    var days = hours * 24;
                    var years = days * 365;
                    var today = new Date();
                    var startYear = "2022";
                    var startMonth = "8";
                    var startDate = "13";
                    var startHour = "0";
                    var startMinute = "0";
                    var startSecond = "0";
                    var todayYear = today.getFullYear();
                    var todayMonth = today.getMonth() + 1;
                    var todayDate = today.getDate();
                    var todayHour = today.getHours();
                    var todayMinute = today.getMinutes();
                    var todaySecond = today.getSeconds();
                    var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                    var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                    var diff = t2 - t1;
                    var diffYears = Math.floor(diff / years);
                    var diffDays = Math.floor((diff / days) - diffYears * 365);
                    var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
                    var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) /
                        minutes);
                    var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours -
                        diffMinutes * minutes) / seconds);
                    if (startYear == todayYear) {
                        document.getElementById("year").innerHTML = todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffDays + " 天 " + diffHours +
                            " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    } else {
                        document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffYears + " 年 " + diffDays +
                            " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    }
                }
                setInterval(siteTime, 1000);
            </script>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/sxhthreo" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub"
        data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>
    

        
            <a href="mailto:951161604@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我"
                data-position="top" data-delay="50">
                <i class="fas fa-envelope-open"></i>
            </a>
            

                

                        

                                
                                    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=951161604"
                                        class="tooltipped" target="_blank"
                                        data-tooltip="QQ联系我: 951161604" data-position="top"
                                        data-delay="50">
                                        <i class="fab fa-qq"></i>
                                    </a>
                                    

                                        

                                                
                                                    <a href="https://www.zhihu.com/people/shui-he-qing-chi-zi-14" class="tooltipped"
                                                        target="_blank"
                                                        data-tooltip="关注我的知乎: https://www.zhihu.com/people/shui-he-qing-chi-zi-14"
                                                        data-position="top" data-delay="50">
                                                        <i class="fab fa-zhihu1">知</i>
                                                    </a>
                                                    

                                                        

                                                                
                                                                    <a href="https://blog.csdn.net/sxH3O?type=blog"
                                                                        class="tooltipped" target="_blank"
                                                                        data-tooltip="关注我的CSDN: https://blog.csdn.net/sxH3O?type=blog"
                                                                        data-position="top" data-delay="50">
                                                                        <i class="fab fa-csdn">C</i>
                                                                    </a>
                                                                    </div>
    </div>
</footer>

<div class="progress-bar"></div>


                                <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

                                    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


                                        <script
                                            src="/libs/materialize/materialize.min.js"></script>
                                        <script
                                            src="/libs/masonry/masonry.pkgd.min.js"></script>
                                        <script
                                            src="/libs/aos/aos.js"></script>
                                        <script
                                            src="/libs/scrollprogress/scrollProgress.min.js"></script>
                                        <script
                                            src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
                                        <script
                                            src="/js/matery.js"></script>

                                        <!-- Baidu Analytics -->

                                            <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

                                                
                                                    <script
                                                        src="/libs/others/clicklove.js"
                                                        async="async"></script>
                                                    
                                                        
                                                            <script async
                                                                src="/libs/others/busuanzi.pure.mini.js"></script>
                                                            

                                                                

                                                                        

                                                                                
                                                                                        
                                                                                            <script
                                                                                                type="text/javascript"
                                                                                                color="0,0,255"
                                                                                                pointColor="0,0,255"
                                                                                                opacity='0.7'
                                                                                                zIndex="-1"
                                                                                                count="99"
                                                                                                src="/libs/background/canvas-nest.js"></script>
                                                                                            

                                                                                                

                                                                                                            
                                                                                                                <script
                                                                                                                    type="text/javascript"
                                                                                                                    src="/libs/background/ribbon-dynamic.js"
                                                                                                                    async="async"></script>
                                                                                                                

                                                                                                                    
                                                                                                                        <script
                                                                                                                            src="/libs/instantpage/instantpage.js"
                                                                                                                            type="module"></script>
                                                                                                                        




                <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</body>

</html>